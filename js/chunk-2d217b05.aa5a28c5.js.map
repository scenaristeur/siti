{"version":3,"sources":["webpack:///./src/components/layout/Pages.vue?cfac","webpack:///src/components/layout/Pages.vue","webpack:///./src/components/layout/Pages.vue?4699","webpack:///./src/components/layout/Pages.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","attrs","on","updatePageList","model","value","callback","$$v","npname","expression","createPage","scopedSlots","_u","key","fn","ref","ariaDescribedby","format","_l","p","url","$event","setCurrent","_s","name","staticRenderFns","data","pages","created","pod","$store","state","solid","methods","public_root","storage","thing","content","type","mime","$createThing","console","log","$setCurrentThing","init","e","watch","computed","get","set","component"],"mappings":"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","file":"js/chunk-2d217b05.aa5a28c5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b',[_vm._v(\"Pages\")]),_c('b-button',{staticClass:\"ml-3\",attrs:{\"size\":\"sm\",\"variant\":\"light\",\"title\":\"refresh\"},on:{\"click\":_vm.updatePageList}},[_c('b-icon',{attrs:{\"icon\":\"\\n      journal-arrow-down\",\"aria-hidden\":\"true\"}})],1),_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":\"NouvellePage\"}},[_c('b-form-input',{model:{value:(_vm.npname),callback:function ($$v) {_vm.npname=$$v},expression:\"npname\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"info\"},on:{\"click\":_vm.createPage}},[_vm._v(\"Créer\")])],1)],1),_c('b-form-group',{attrs:{\"label\":\"enregistrer au format\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar ariaDescribedby = ref.ariaDescribedby;\nreturn [_c('b-form-radio',{attrs:{\"aria-describedby\":ariaDescribedby,\"name\":\"some-radios\",\"value\":\"html\"},model:{value:(_vm.format),callback:function ($$v) {_vm.format=$$v},expression:\"format\"}},[_vm._v(\" html\")]),_c('b-form-radio',{attrs:{\"aria-describedby\":ariaDescribedby,\"name\":\"some-radios\",\"value\":\"json\"},model:{value:(_vm.format),callback:function ($$v) {_vm.format=$$v},expression:\"format\"}},[_vm._v(\" json\")])]}}])}),_c('br'),_c('ul',_vm._l((_vm.pages),function(p){return _c('li',{key:p.url},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.setCurrent(p)}}},[_vm._v(_vm._s(p.name))]),_c('a',{attrs:{\"href\":p.url,\"target\":\"_blank\"}},[_c('b-icon',{attrs:{\"icon\":\"link45deg\",\"aria-hidden\":\"true\"}})],1)])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b>Pages</b>   <b-button class=\"ml-3\" size=\"sm\" variant=\"light\" @click=\"updatePageList\" title=\"refresh\"> <b-icon icon=\"\n      journal-arrow-down\" aria-hidden=\"true\"></b-icon></b-button>\n\n      <b-input-group prepend=\"NouvellePage\" class=\"mt-3\">\n        <b-form-input v-model=\"npname\"></b-form-input>\n        <b-input-group-append>\n          <b-button variant=\"info\" @click=\"createPage\">Créer</b-button>\n        </b-input-group-append>\n\n      </b-input-group>\n      <b-form-group label=\"enregistrer au format\" v-slot=\"{ ariaDescribedby }\">\n        <b-form-radio v-model=\"format\" :aria-describedby=\"ariaDescribedby\" name=\"some-radios\" value=\"html\"> html</b-form-radio>\n        <b-form-radio v-model=\"format\" :aria-describedby=\"ariaDescribedby\" name=\"some-radios\" value=\"json\"> json</b-form-radio>\n      </b-form-group>\n      <!-- <b-input-group prepend=\"Nouvelle Json\" class=\"mt-3\">\n      <b-form-input v-model=\"njname\"></b-form-input>\n      <b-input-group-append>\n      <b-button variant=\"info\" @click=\"createJson\">Créer</b-button>\n    </b-input-group-append>\n  </b-input-group> -->\n\n  <br>\n  <ul>\n    <li v-for=\"p in pages\" :key=\"p.url\"><a href=\"#\" @click=\"setCurrent(p)\">{{ p.name }}</a>\n\n      <a :href=\"p.url\" target=\"_blank\"><b-icon icon=\"link45deg\" aria-hidden=\"true\"></b-icon></a>\n\n    </li>\n  </ul>\n</div>\n</template>\n\n<script>\nexport default {\n  name:\"Pages\",\n  data(){\n    return {\n      pages: [],\n      npname: \"NouvellePage\",\n      //  njname: \"Nouveau Json\",\n      format: \"html\"\n    }\n  },\n  created(){\n    this.pod = this.$store.state.solid.pod\n    this.updatePageList()\n  },\n  methods:{\n    createPage(){\n      this.public_root = this.pod.storage+\"public/\"\n      let thing = {name: this.npname, dest: this.public_root, content: '<meta charset=\"utf-8\">', type: {mime: \"text/html\"}}\n      if(this.format == 'json'){\n        thing.content = '{}'\n        thing.type.mime = \"application/json\"\n      }\n      this.$createThing(thing)\n      //  this.$setCurrentThing({name: this.npname, url: public_root+this.npname})\n      this.updatePageList()\n    },\n    // createJson(){\n    //   this.public_root = this.pod.storage+\"public/\"\n    //   this.$createThing({name: this.njname, dest: this.public_root, content: '{\"@id\":\"'+this.public_root+this.njname+'.json\"}', type: {mime: \"application/json\"}})\n    //   //  this.$setCurrentThing({name: this.npname, url: public_root+this.npname})\n    //   this.updatePageList()\n    // },\n    //\n    setCurrent(p){\n      console.log(p)\n      this.$setCurrentThing(p)\n    },\n    async updatePageList(){\n      if(this.pod != null){\n        this.public_root = this.pod.storage+\"public/\"\n        this.pages = await this.$getFolderContent(this.public_root)\n        this.init()\n      }else{\n        this.pages = []\n      }\n    },\n    init(){\n      try{\n        this.$setCurrentThing({name: \"PagePrincipale\", url: this.public_root+\"PagePrincipale.html\"})\n      }\n      catch(e){\n        console.log(e)\n      }\n    }\n  },\n  watch:{\n    pod(){\n      this.updatePageList()\n    }\n  },\n  computed:{\n    pod:{\n      get () { return this.$store.state.solid.pod},\n      set (/*value*/) { /*this.updateTodo(value)*/ }\n    },\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pages.vue?vue&type=template&id=3af57fb1&\"\nimport script from \"./Pages.vue?vue&type=script&lang=js&\"\nexport * from \"./Pages.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}