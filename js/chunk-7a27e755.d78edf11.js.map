{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./src/components/editable/Page.vue?5e2d","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///src/components/editable/Page.vue","webpack:///./src/components/editable/Page.vue?872e","webpack:///./src/components/editable/Page.vue","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es.string.repeat.js","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["toInteger","requireObjectCoercible","module","exports","count","str","String","this","result","n","Infinity","RangeError","render","_vm","_h","$createElement","_c","_self","on","sauve","format","_e","ref","attrs","editable","domProps","_s","txt","dblclick","action","staticRenderFns","_typeof","obj","Symbol","iterator","constructor","prototype","name","data","component","redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","R","p","rf","f","undefined","unsafe","$","repeat","target","proto","defineWellKnownSymbol","DESCRIPTORS","global","has","isObject","defineProperty","copyConstructorProperties","NativeSymbol","description","EmptyStringDescriptionStore","SymbolWrapper","arguments","length","symbolPrototype","symbolToString","toString","native","regexp","configurable","get","symbol","valueOf","string","desc","slice","replace","forced"],"mappings":"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","file":"js/chunk-7a27e755.d78edf11.js","sourcesContent":["'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.editable)?_c('ButtonToolbar',{on:{\"sauve\":_vm.sauve,\"format\":_vm.format}}):_vm._e(),_c('div',{ref:\"editableDiv\",attrs:{\"variant\":\"sucess\",\"contenteditable\":_vm.editable ? true : false},domProps:{\"textContent\":_vm._s(_vm.txt)},on:{\"dblclick\":_vm.dblclick}}),_c('ActionList',{on:{\"action\":_vm.action}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","<template>\n  <div>\n    <ButtonToolbar v-if=\"editable\" @sauve=\"sauve\" @format=\"format\" />\n    <div\n    ref=\"editableDiv\"\n    v-text=\"txt\"\n    variant = \"sucess\"\n\n    @dblclick=\"dblclick\"\n    :contenteditable=\"editable ? true : false\"\n    >\n    <!-- @blur=\"onEdit\" -->\n  </div>\n  <ActionList @action=\"action\" />\n</div>\n</template>\n\n<script>\nexport default {\n  name: \"Page\",\n  data(){\n    return{\n      txt: `======Félicitations, votre wiki est installé !\n\n      ===\"\"YesWiki\"\" : un outil convivial potentiellement collaboratif===\n      Voici quelques éléments afin de bien démarrer de vous approprier ce nouvel outil.\n      - Le double-clic est votre ami ! Si vous voulez modifier une page de votre Yeswiki, double-cliquez simplement dessus ou cliquez sur \"éditer la page\" en bas à gauche\n      - Si vous voulez vous exercer sereinement, vous pouvez essayer de modifier la page [[BacASable bac à sable]].\n      - Vous pouvez également essayer de modifier de la même manière la page sur laquelle vous êtes actuellement.\n      - Vous souhaitez modifier le menu horizontal général ? Double-cliquez gauche sur ce menu (en dehors du texte), et vous aurez accès à l'édition de ce menu. Utilisez les tirets (\"-\") pour créer de nouvelles entrées.\n      - Et il y a une page de la doc \"\"YesWiki\"\" à lire absolument, celle qui vous permet de [[https://yeswiki.net/?HistoriqueRevisions restaurer une page modifiée en cas d'erreur ou de problème]]. Comme ça, aucun risques !!!\n        - Le menu d'administration en haut à droite, accessible depuis la roue crantée (clic gauche) vous permettra :\n        - de [[WikiAdmin gérer le site (pages importantes, comptes et groupes utilisateurs, etc.)]],\n        - d’administrer la [[BazaR base de données Bazar]],\n        - de consulter les [[TableauDeBord dernières modifications sur le wiki]].\n        `,\n        menuVisible: false,\n        editable: false,\n      }\n    },\n    components: {\n      'ButtonToolbar': () => import('@/components/editable/ButtonToolbar'),\n      'ActionList': () => import('@/components/editable/ActionList'),\n    },\n    methods:{\n      action(a){\n        console.log(\"action\",a)\n        switch (a) {\n          case \"edit\":\n          this.editable = true\n          break;\n          case \"delete\":\n\n          break;\n          case \"history\":\n\n          break;\n          case \"permission\":\n\n          break;\n          case \"share\":\n\n          break;\n          default:\n\n        }\n      },\n      updatePage(){\n        console.log(this.file)\n        this.txt = this.file.content\n      },\n      dblclick(e){\n        this.editable = true\n        console.log(\"dbl\",e)\n      },\n      // showMenu(){\n      //   let old = this.txt\n      //   this.menuVisible = true\n      //   console.log(\"show\", old)\n      // },\n      sauve(e){\n        console.log(e)\n        this.editable = false\n        var src = this.$refs.editableDiv.innerText\n        this.txt = src\n        console.log(this.txt)\n        this.file.content = this.txt\n        console.log(this.file)\n        this.$save(this.file)\n      },\n      format(f){\n        console.log(f)\n        //var text = \"\";\n        console.log(typeof f)\n\n        let balise = \"\"\n        if(typeof f == \"number\"){\n          balise = \"=\".repeat(7-f)\n        }else{\n          console.log(\"todo format\",f)\n        }\n\n\n\n        console.log(balise)\n        var sel, range;\n        if (window.getSelection) {\n          sel = window.getSelection();\n          let txt = sel.toString()\n          let replacementText = balise+txt+balise\n          if (sel.rangeCount) {\n            range = sel.getRangeAt(0);\n            range.deleteContents();\n            range.insertNode(document.createTextNode(replacementText));\n          }\n        } else if (document.selection && document.selection.createRange) {\n          range = document.selection.createRange();\n          let txt = range.txt\n          let replacementText = balise+txt+balise\n          range.text = replacementText;\n        }\n      },\n      // replaceSelectedText(replacementText) {\n      //   var sel, range;\n      //   if (window.getSelection) {\n      //     sel = window.getSelection();\n      //     if (sel.rangeCount) {\n      //       range = sel.getRangeAt(0);\n      //       range.deleteContents();\n      //       range.insertNode(document.createTextNode(replacementText));\n      //     }\n      //   } else if (document.selection && document.selection.createRange) {\n      //     range = document.selection.createRange();\n      //     range.text = replacementText;\n      //   }\n      //\n      // }\n\n    },\n    watch:{\n      file(){\n        this.updatePage()\n      }\n    },\n    computed:{\n      file:{\n        get () { return this.$store.state.viki.file},\n        set (/*value*/) { /*this.updateTodo(value)*/ }\n      },\n    }\n  }\n  </script>\n\n  <style>\n\n  </style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Page.vue?vue&type=template&id=59cffeb2&\"\nimport script from \"./Page.vue?vue&type=script&lang=js&\"\nexport * from \"./Page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","var $ = require('../internals/export');\nvar repeat = require('../internals/string-repeat');\n\n// `String.prototype.repeat` method\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\n$({ target: 'String', proto: true }, {\n  repeat: repeat\n});\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}