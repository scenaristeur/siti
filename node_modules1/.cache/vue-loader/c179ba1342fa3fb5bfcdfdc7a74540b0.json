{"remainingRequest":"/home/smag/dev/siti/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/smag/dev/siti/src/components/editable/TipTap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/smag/dev/siti/src/components/editable/TipTap.vue","mtime":1622997893930},{"path":"/home/smag/dev/siti/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/smag/dev/siti/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/smag/dev/siti/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/smag/dev/siti/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmltcG9ydCB7IEVkaXRvciwgRWRpdG9yQ29udGVudCB9IGZyb20gJ0B0aXB0YXAvdnVlLTInCmltcG9ydCBTdGFydGVyS2l0IGZyb20gJ0B0aXB0YXAvc3RhcnRlci1raXQnCmltcG9ydCBIaWdobGlnaHQgZnJvbSAnQHRpcHRhcC9leHRlbnNpb24taGlnaGxpZ2h0JwppbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdAdGlwdGFwL2V4dGVuc2lvbi10eXBvZ3JhcGh5JwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJUaXBUYXAiLAogIGNvbXBvbmVudHM6IHsKICAgIEVkaXRvckNvbnRlbnQsCiAgfSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJywKICAgIH0sCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVkaXRvcjogbnVsbCwKICAgIH0KICB9LAoKICB3YXRjaDogewogICAgdmFsdWUodmFsdWUpIHsKICAgICAgLy8gSFRNTAogICAgICBjb25zdCBpc1NhbWUgPSB0aGlzLmVkaXRvci5nZXRIVE1MKCkgPT09IHZhbHVlCgogICAgICAvLyBKU09OCiAgICAgIC8vIGNvbnN0IGlzU2FtZSA9IHRoaXMuZWRpdG9yLmdldEpTT04oKS50b1N0cmluZygpID09PSB2YWx1ZS50b1N0cmluZygpCgogICAgICBpZiAoaXNTYW1lKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIHRoaXMuZWRpdG9yLmNvbW1hbmRzLnNldENvbnRlbnQodGhpcy52YWx1ZSwgZmFsc2UpCiAgICB9LAogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmVkaXRvciA9IG5ldyBFZGl0b3IoewogICAgICBleHRlbnNpb25zOiBbCiAgICAgICAgICBTdGFydGVyS2l0LAogICAgICAgICAgSGlnaGxpZ2h0LAogICAgICAgICAgVHlwb2dyYXBoeSwKICAgICAgICBdLAogICAgICBjb250ZW50OiAiT0tPIit0aGlzLnZhbHVlLAogICAgICBvblVwZGF0ZTogKCkgPT4gewogICAgICAgIC8vIEhUTUwKICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHRoaXMuZWRpdG9yLmdldEhUTUwoKSkKCiAgICAgICAgLy8gSlNPTgogICAgICAgIC8vIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy5lZGl0b3IuZ2V0SlNPTigpKQogICAgICB9LAogICAgfSkKICB9LAp9Cg=="},{"version":3,"sources":["TipTap.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"TipTap.vue","sourceRoot":"src/components/editable","sourcesContent":["<template>\n  <editor-content :editor=\"editor\" />\n</template>\n\n<script>\nimport { Editor, EditorContent } from '@tiptap/vue-2'\nimport StarterKit from '@tiptap/starter-kit'\nimport Highlight from '@tiptap/extension-highlight'\nimport Typography from '@tiptap/extension-typography'\n\nexport default {\n  name: \"TipTap\",\n  components: {\n    EditorContent,\n  },\n  props: {\n    value: {\n      type: String,\n      default: '',\n    },\n  },\n\n  data() {\n    return {\n      editor: null,\n    }\n  },\n\n  watch: {\n    value(value) {\n      // HTML\n      const isSame = this.editor.getHTML() === value\n\n      // JSON\n      // const isSame = this.editor.getJSON().toString() === value.toString()\n\n      if (isSame) {\n        return\n      }\n\n      this.editor.commands.setContent(this.value, false)\n    },\n  },\n\n  mounted() {\n    this.editor = new Editor({\n      extensions: [\n          StarterKit,\n          Highlight,\n          Typography,\n        ],\n      content: \"OKO\"+this.value,\n      onUpdate: () => {\n        // HTML\n        this.$emit('input', this.editor.getHTML())\n\n        // JSON\n        // this.$emit('input', this.editor.getJSON())\n      },\n    })\n  },\n}\n</script>\n\n<style lang=\"scss\">\n/* Basic editor styles */\n.ProseMirror {\n  > * + * {\n    margin-top: 0.75em;\n  }\n\n  ul,\n  ol {\n    padding: 0 1rem;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    line-height: 1.1;\n  }\n\n  code {\n    background-color: rgba(#616161, 0.1);\n    color: #616161;\n  }\n\n  pre {\n    background: #0D0D0D;\n    color: #FFF;\n    font-family: 'JetBrainsMono', monospace;\n    padding: 0.75rem 1rem;\n    border-radius: 0.5rem;\n\n    code {\n      color: inherit;\n      padding: 0;\n      background: none;\n      font-size: 0.8rem;\n    }\n  }\n\n  img {\n    max-width: 100%;\n    height: auto;\n  }\n\n  hr {\n    margin: 1rem 0;\n  }\n\n  blockquote {\n    padding-left: 1rem;\n    border-left: 2px solid rgba(#0D0D0D, 0.1);\n  }\n}\n</style>\n"]}]}