{"remainingRequest":"/home/smag/dev/siti/node_modules/babel-loader/lib/index.js!/home/smag/dev/siti/node_modules/eslint-loader/index.js??ref--13-0!/home/smag/dev/siti/src/plugins/vue-solid.js","dependencies":[{"path":"/home/smag/dev/siti/src/plugins/vue-solid.js","mtime":1622992798542},{"path":"/home/smag/dev/siti/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/smag/dev/siti/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/smag/dev/siti/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3NtYWcvZGV2L3NpdGkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5lbmRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgZ2V0U29saWREYXRhc2V0LCBnZXRUaGluZ0FsbCwgZ2V0RmlsZSwgaXNSYXdEYXRhLCBnZXRDb250ZW50VHlwZSwgc2F2ZUZpbGVJbkNvbnRhaW5lciwgZ2V0Q29udGFpbmVkUmVzb3VyY2VVcmxBbGwsIGNyZWF0ZUNvbnRhaW5lckF0LCBnZXRTb3VyY2VVcmwsIGRlbGV0ZUZpbGUsIGRlbGV0ZUNvbnRhaW5lciAvLyAgYWRkU3RyaW5nTm9Mb2NhbGUsCi8vIHNldFRoaW5nLAovLyBzYXZlU29saWREYXRhc2V0QXQsCi8vIGNyZWF0ZVNvbGlkRGF0YXNldCwKLy8gY3JlYXRlVGhpbmcsCi8vIGFkZFVybCwKLCBvdmVyd3JpdGVGaWxlLCBnZXRTdHJpbmdOb0xvY2FsZSwgZ2V0VGhpbmcsIGdldFVybEFsbCwgZ2V0VXJsIH0gZnJvbSAiQGlucnVwdC9zb2xpZC1jbGllbnQiOwppbXBvcnQgeyBGT0FGCi8qUkRGLCBMRFAsKi8KLCBWQ0FSRCB9IGZyb20gIkBpbnJ1cHQvdm9jYWItY29tbW9uLXJkZiI7CmltcG9ydCB7IFdTCi8qLCBWQ0FSRCAqLwp9IGZyb20gIkBpbnJ1cHQvdm9jYWItc29saWQtY29tbW9uIjsKaW1wb3J0ICogYXMgc2MgZnJvbSAnQGlucnVwdC9zb2xpZC1jbGllbnQtYXV0aG4tYnJvd3Nlcic7IC8vIGltcG9ydCB7Ci8vICAgV2Vic29ja2V0Tm90aWZpY2F0aW9uLAovLyB9IGZyb20gIkBpbnJ1cHQvc29saWQtY2xpZW50LW5vdGlmaWNhdGlvbnMiOwovLyBpbXBvcnQgKiBhcyBqc29ubGQgZnJvbSAnanNvbmxkJzsKCnZhciBwbHVnaW4gPSB7CiAgaW5zdGFsbDogZnVuY3Rpb24gaW5zdGFsbChWdWUpIHsKICAgIHZhciBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICAgIHZhciBzdG9yZSA9IG9wdHMuc3RvcmU7CiAgICBWdWUucHJvdG90eXBlLiRsb2dpbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGlzc3VlcikgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gc2MubG9naW4oewogICAgICAgICAgICAgICAgICBvaWRjSXNzdWVyOiBpc3N1ZXIsCiAgICAgICAgICAgICAgICAgIHJlZGlyZWN0VXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZiwKICAgICAgICAgICAgICAgICAgY2xpZW50TmFtZTogIlZhdGNoIgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA1OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGFsZXJ0KF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA1XV0pOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKSwgVnVlLnByb3RvdHlwZS4kbG9nb3V0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihwYXJhbXMpIHsKICAgICAgICB2YXIgc2Vzc2lvbjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgc2Vzc2lvbiA9IHNjLmdldERlZmF1bHRTZXNzaW9uKCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwYXJhbXMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb24ubG9nb3V0KCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgnc29saWQvc2V0U2Vzc2lvbicsIHNlc3Npb24pOwogICAgICAgICAgICAgICAgc3RvcmUuY29tbWl0KCdzb2xpZC9zZXRQb2QnLCB7fSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGFsZXJ0KF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgOV1dKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKSwgVnVlLnByb3RvdHlwZS4kY2hlY2tTZXNzaW9ucyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMocGFyYW1zKSB7CiAgICAgICAgdmFyIHNlc3Npb247CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBzYy5oYW5kbGVJbmNvbWluZ1JlZGlyZWN0KHsKICAgICAgICAgICAgICAgICAgcmVzdG9yZVByZXZpb3VzU2Vzc2lvbjogcGFyYW1zLnJlc3RvcmUKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGluZm8pIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaW5mbyk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgc2Vzc2lvbiA9IHNjLmdldERlZmF1bHRTZXNzaW9uKCk7CiAgICAgICAgICAgICAgICBzYy5vblNlc3Npb25SZXN0b3JlKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInJlc3RvcmUiLCB1cmwpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzdG9yZS5jb21taXQoJ3NvbGlkL3NldFNlc3Npb24nLCBzZXNzaW9uKTsgLy8gIGRpc3BhdGNoKCdnZXRQb2RJbmZvcycsIHNlc3Npb24pCgogICAgICAgICAgICAgICAgdGhpcy4kZ2V0UG9kSW5mb3NGcm9tU2Vzc2lvbihzZXNzaW9uKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgYWxlcnQoX2NvbnRleHQzLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgdGhpcywgW1swLCA5XV0pOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKF94MykgewogICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpLCBWdWUucHJvdG90eXBlLiRnZXRQb2RJbmZvc0Zyb21TZXNzaW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChzZXNzaW9uKSB7CiAgICAgICAgdmFyIHBvZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgcG9kID0ge307CiAgICAgICAgICAgICAgICBwb2QubG9nZ2VkID0gc2Vzc2lvbi5pbmZvLmlzTG9nZ2VkSW47CgogICAgICAgICAgICAgICAgaWYgKCFwb2QubG9nZ2VkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHBvZC53ZWJJZCA9IHNlc3Npb24uaW5mby53ZWJJZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRnZXRQb2RJbmZvcyhwb2QpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBwb2QgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgnc29saWQvc2V0UG9kJywgcG9kKTsKCiAgICAgICAgICAgICAgICBpZiAocG9kLnN0b3JhZ2UgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICB0aGlzLiRzZXRDdXJyZW50VGhpbmdVcmwocG9kLnN0b3JhZ2UpOyAvLyBsZXQgcHVibGljVGFnRmlsZSA9IHBvZC5zdG9yYWdlKydwdWJsaWMvdGFncy50dGwnCiAgICAgICAgICAgICAgICAgIC8vIC8vbGV0IHByaXZhdGVUYWdGaWxlID0gcG9kU3RvcmFnZSsncHJpdmF0ZS90YWdzLnR0bCcKICAgICAgICAgICAgICAgICAgLy8gbGV0IHRhZ3MgPSBhd2FpdCB0aGlzLiRnZXRUYWdzKHB1YmxpY1RhZ0ZpbGUpCiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCIjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjdGFncyIsdGFncykKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBzdG9yZS5jb21taXQoJ3NvbGlkL3NldFBvZCcsIG51bGwpOwogICAgICAgICAgICAgICAgc3RvcmUuY29tbWl0KCdzb2xpZC9zZXRUaGluZ3MnLCBbXSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDE2OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgYWxlcnQoX2NvbnRleHQ0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgdGhpcywgW1swLCAxNl1dKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDQpIHsKICAgICAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICBWdWUucHJvdG90eXBlLiRnZXRGb2xkZXJDb250ZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWY1ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSh1cmwpIHsKICAgICAgICB2YXIgbXlEYXRhc2V0LCByZXNvdXJjZXMsIHBhZ2VzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U29saWREYXRhc2V0KHVybCwgewogICAgICAgICAgICAgICAgICBmZXRjaDogc2MuZmV0Y2gKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBteURhdGFzZXQgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG15RGF0YXNldCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29udGFpbmVkUmVzb3VyY2VVcmxBbGwobXlEYXRhc2V0LCB7CiAgICAgICAgICAgICAgICAgIGZldGNoOiBzYy5mZXRjaAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJlc291cmNlcyA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgcGFnZXMgPSByZXNvdXJjZXMubWFwKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgdXJsOiB4LAogICAgICAgICAgICAgICAgICAgIG5hbWU6IHgucmVwbGFjZSh1cmwsICIiKQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiUGFnZXMiLCBwYWdlcyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgcGFnZXMpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDUpIHsKICAgICAgICByZXR1cm4gX3JlZjUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICBWdWUucHJvdG90eXBlLiRzZXRDdXJyZW50VGhpbmcgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KHBhZ2UpIHsKICAgICAgICB2YXIgdXJsLCBmaWxlLCByZWFkZXIsIG15RGF0YXNldCwgcmVzb3VyY2VzLCB0aGluZ3M7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHVybCA9IHBhZ2UudXJsOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGdldEZpbGUodXJsLCB7CiAgICAgICAgICAgICAgICAgIGZldGNoOiBzYy5mZXRjaAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGZpbGUgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIC8vIGZpbGUgaXMgYSBCbG9iIChzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0Jsb2IpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRmV0Y2hlZCBhICIuY29uY2F0KGdldENvbnRlbnRUeXBlKGZpbGUpLCAiIGZpbGUgZnJvbSAiKS5jb25jYXQoZ2V0U291cmNlVXJsKGZpbGUpLCAiLiIpKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJUaGUgZmlsZSBpcyAiLmNvbmNhdChpc1Jhd0RhdGEoZmlsZSkgPyAibm90ICIgOiAiIiwgImEgZGF0YXNldC4iKSk7CiAgICAgICAgICAgICAgICBzdG9yZS5jb21taXQoJ3NvbGlkL3NldEN1cnJlbnRSZW1vdGVVcmwnLCB1cmwpOwoKICAgICAgICAgICAgICAgIGlmICghaXNSYXdEYXRhKGZpbGUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ0b2RvIHJhdyBkYXRhIiwgZmlsZSk7CiAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgICAgICAgICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoImxvYWRlbmQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlYWRlcik7IC8vICBjb25zb2xlLmxvZyhyZWFkZXIucmVzdWx0KQoKICAgICAgICAgICAgICAgICAgc3RvcmUuY29tbWl0KCd2aWtpL3NldEZpbGUnLCB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogcGFnZS5uYW1lLAogICAgICAgICAgICAgICAgICAgIHBhdGg6IGdldFNvdXJjZVVybChmaWxlKSwKICAgICAgICAgICAgICAgICAgICBjb250ZW50OiByZWFkZXIucmVzdWx0LAogICAgICAgICAgICAgICAgICAgIHR5cGU6IHsKICAgICAgICAgICAgICAgICAgICAgIG1pbWU6IGdldENvbnRlbnRUeXBlKGZpbGUpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsgLy8gcmVhZGVyLnJlc3VsdCBjb250aWVudCBsZSBjb250ZW51IGR1CiAgICAgICAgICAgICAgICAgIC8vIGJsb2Igc291cyBsYSBmb3JtZSBkJ3VuIHRhYmxlYXUgdHlww6kKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDMxOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFNvbGlkRGF0YXNldCh1cmwsIHsKICAgICAgICAgICAgICAgICAgZmV0Y2g6IHNjLmZldGNoCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIG15RGF0YXNldCA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cobXlEYXRhc2V0KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29udGFpbmVkUmVzb3VyY2VVcmxBbGwobXlEYXRhc2V0LCB7CiAgICAgICAgICAgICAgICAgIGZldGNoOiBzYy5mZXRjaAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICByZXNvdXJjZXMgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJSZXNvdXJjZXMiLCByZXNvdXJjZXMpOwoKICAgICAgICAgICAgICAgIGlmICghKHJlc291cmNlcy5sZW5ndGggPiAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzdG9yZS5jb21taXQoJ3NvbGlkL3NldFJlbW90ZVJlc291cmNlcycsIHJlc291cmNlcyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDMxOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFRoaW5nQWxsKG15RGF0YXNldCwgdXJsKTsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICAgIHRoaW5ncyA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgc3RvcmUuY29tbWl0KCdzb2xpZC9zZXRUaGluZ3MnLCB0aGluZ3MpOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSAzMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni50MCA9IF9jb250ZXh0NlsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGFsZXJ0KF9jb250ZXh0Ni50MCk7CgogICAgICAgICAgICAgIGNhc2UgMzY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYsIG51bGwsIFtbMSwgMzNdXSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g2KSB7CiAgICAgICAgcmV0dXJuIF9yZWY2LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCksIFZ1ZS5wcm90b3R5cGUuJHNldEN1cnJlbnRUaGluZ1VybCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmNyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcodXJsKSB7CiAgICAgICAgdmFyIGZpbGUsIHJlYWRlciwgbXlEYXRhc2V0LCByZXNvdXJjZXMsIHRoaW5nczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldEZpbGUodXJsLCB7CiAgICAgICAgICAgICAgICAgIGZldGNoOiBzYy5mZXRjaAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGZpbGUgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgIC8vIGZpbGUgaXMgYSBCbG9iIChzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0Jsb2IpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRmV0Y2hlZCBhICIuY29uY2F0KGdldENvbnRlbnRUeXBlKGZpbGUpLCAiIGZpbGUgZnJvbSAiKS5jb25jYXQoZ2V0U291cmNlVXJsKGZpbGUpLCAiLiIpKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJUaGUgZmlsZSBpcyAiLmNvbmNhdChpc1Jhd0RhdGEoZmlsZSkgPyAibm90ICIgOiAiIiwgImEgZGF0YXNldC4iKSk7CiAgICAgICAgICAgICAgICBzdG9yZS5jb21taXQoJ3NvbGlkL3NldEN1cnJlbnRSZW1vdGVVcmwnLCB1cmwpOwoKICAgICAgICAgICAgICAgIGlmICghaXNSYXdEYXRhKGZpbGUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ0b2RvIHJhdyBkYXRhIiwgZmlsZSk7CiAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgICAgICAgICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoImxvYWRlbmQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlYWRlcik7IC8vICBjb25zb2xlLmxvZyhyZWFkZXIucmVzdWx0KQoKICAgICAgICAgICAgICAgICAgc3RvcmUuY29tbWl0KCd2aWtpL3NldEZpbGUnLCB7CiAgICAgICAgICAgICAgICAgICAgcGF0aDogZ2V0U291cmNlVXJsKGZpbGUpLAogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlYWRlci5yZXN1bHQsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogewogICAgICAgICAgICAgICAgICAgICAgbWltZTogZ2V0Q29udGVudFR5cGUoZmlsZSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICAgIH0pOyAvLyByZWFkZXIucmVzdWx0IGNvbnRpZW50IGxlIGNvbnRlbnUgZHUKICAgICAgICAgICAgICAgICAgLy8gYmxvYiBzb3VzIGxhIGZvcm1lIGQndW4gdGFibGVhdSB0eXDDqQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U29saWREYXRhc2V0KHVybCwgewogICAgICAgICAgICAgICAgICBmZXRjaDogc2MuZmV0Y2gKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgbXlEYXRhc2V0ID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhteURhdGFzZXQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRDb250YWluZWRSZXNvdXJjZVVybEFsbChteURhdGFzZXQsIHsKICAgICAgICAgICAgICAgICAgZmV0Y2g6IHNjLmZldGNoCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIHJlc291cmNlcyA9IF9jb250ZXh0Ny5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlJlc291cmNlcyIsIHJlc291cmNlcyk7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzb3VyY2VzLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgnc29saWQvc2V0UmVtb3RlUmVzb3VyY2VzJywgcmVzb3VyY2VzKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VGhpbmdBbGwobXlEYXRhc2V0LCB1cmwpOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgICAgdGhpbmdzID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICBzdG9yZS5jb21taXQoJ3NvbGlkL3NldFRoaW5ncycsIHRoaW5ncyk7CgogICAgICAgICAgICAgIGNhc2UgMzA6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDMyOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnQwID0gX2NvbnRleHQ3WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgYWxlcnQoX2NvbnRleHQ3LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAzNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNywgbnVsbCwgW1swLCAzMl1dKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDcpIHsKICAgICAgICByZXR1cm4gX3JlZjcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKSwgVnVlLnByb3RvdHlwZS4kZ2V0UG9kSW5mb3MgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjggPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KHBvZCkgewogICAgICAgIHZhciBkYXRhc2V0LCBwcm9maWxlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDgucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U29saWREYXRhc2V0KHBvZC53ZWJJZCwgewogICAgICAgICAgICAgICAgICBmZXRjaDogc2MuZmV0Y2gKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBkYXRhc2V0ID0gX2NvbnRleHQ4LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiREFUQVNFVCIsIGRhdGFzZXQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFRoaW5nKGRhdGFzZXQsIHBvZC53ZWJJZCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHByb2ZpbGUgPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U3RyaW5nTm9Mb2NhbGUocHJvZmlsZSwgRk9BRi5uYW1lKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHBvZC5uYW1lID0gX2NvbnRleHQ4LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFVybEFsbChwcm9maWxlLCBGT0FGLmtub3dzKS5tYXAoZnVuY3Rpb24gKHdlYklkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgd2ViSWQ6IHdlYklkCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIHBvZC5mcmllbmRzID0gX2NvbnRleHQ4LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFVybChwcm9maWxlLCBXUy5zdG9yYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHBvZC5zdG9yYWdlID0gX2NvbnRleHQ4LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFVybChwcm9maWxlLCBWQ0FSRC5oYXNQaG90byk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBwb2QucGhvdG8gPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICAgIC8vIHBvZC5wdWJsaWNUYWdzID0gYXdhaXQgdGhpcy4kZ2V0VGFncyhwb2Quc3RvcmFnZSsncHVibGljL3RhZ3MudHRsJykKICAgICAgICAgICAgICAgIC8vIHN0b3JlLmNvbW1pdCgidmF0Y2gvYWRkVG9OZXR3b3JrIiwgcG9kLnB1YmxpY1RhZ3MpCiAgICAgICAgICAgICAgICAvL3RoaXMuJHN1YnNjcmliZShwb2Quc3RvcmFnZSkKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJnZXRwb2RpbmZvcyIsIHBvZCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICBfY29udGV4dDgucHJldiA9IDIzOwogICAgICAgICAgICAgICAgX2NvbnRleHQ4LnQwID0gX2NvbnRleHQ4WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImVycmV1ciIsIF9jb250ZXh0OC50MCwgcG9kKTsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgICByZXR1cm4gcG9kOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0OC5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCwgbnVsbCwgW1swLCAyM11dKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDgpIHsKICAgICAgICByZXR1cm4gX3JlZjguYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsgLy8gVnVlLnByb3RvdHlwZS4kZ2V0VGFncyA9IGFzeW5jIGZ1bmN0aW9uICh0YWdGaWxlKXsKICAgIC8vICAgdHJ5ewogICAgLy8KICAgIC8vICAgICAvLyBsZXQgdGFnc0ogPSBhd2FpdCBwYXJzZVRhZ3NKc29ubGQodGFnRmlsZSkKICAgIC8vICAgICAvLyBjb25zb2xlLmxvZygidGFncyBKU09OTEQiLHRhZ3NKKQogICAgLy8KICAgIC8vICAgICBsZXQgdGFnc1IgPSBhd2FpdCBwYXJzZVRhZ3NSZGYodGFnRmlsZSkKICAgIC8vICAgICBjb25zb2xlLmxvZygidGFncyBSREYiLHRhZ3NSKQogICAgLy8KICAgIC8vICAgICBjb25zdCB0YWdEYXRhc2V0ID0gYXdhaXQgZ2V0U29saWREYXRhc2V0KCB0YWdGaWxlLCB7IGZldGNoOiBzYy5mZXRjaCB9KTsKICAgIC8vICAgICBjb25zb2xlLmxvZygiREFUQVNFVCIsIHRhZ0RhdGFzZXQpCiAgICAvLyAgICAgbGV0IHRoaW5ncyA9ICBhd2FpdCBnZXRUaGluZ0FsbCh0YWdEYXRhc2V0LCB0YWdGaWxlKTsKICAgIC8vICAgICBjb25zb2xlLmxvZyh0aGluZ3MpCiAgICAvLwogICAgLy8gICAgIHJldHVybiB0YWdzUgogICAgLy8gICB9Y2F0Y2goZSl7CiAgICAvLyAgICAgcmV0dXJuIFtdCiAgICAvLyAgIH0KICAgIC8vIH0KICAgIC8vIFZ1ZS5wcm90b3R5cGUuJGFkZFRhZ3MgPSBhc3luYyBmdW5jdGlvbihwYXJhbXMpewogICAgLy8gICAvL2NvbnNvbGUubG9nKHBhcmFtcykKICAgIC8vCiAgICAvLyAgIGxldCB0YWdEYXRhc2V0CiAgICAvLyAgIHRyeXsKICAgIC8vICAgICB0YWdEYXRhc2V0ID0gYXdhaXQgZ2V0U29saWREYXRhc2V0KHBhcmFtcy50YWdGaWxlLCB7ZmV0Y2g6IHNjLmZldGNofSk7CiAgICAvLyAgICAgY29uc29sZS5sb2coIkRBVEFTRVQiLCB0YWdEYXRhc2V0KQogICAgLy8gICB9Y2F0Y2goZSl7CiAgICAvLyAgICAgLy8gIGNvbnNvbGUubG9nKGUpCiAgICAvLyAgIH0KICAgIC8vCiAgICAvLyAgIC8vICBjb25zb2xlLmxvZyh0YWdEYXRhc2V0KQogICAgLy8gICB0YWdEYXRhc2V0PT0gdW5kZWZpbmVkIHx8IHRhZ0RhdGFzZXQ9PSBudWxsID8gdGFnRGF0YXNldCA9IGNyZWF0ZVNvbGlkRGF0YXNldCgpIDoiIgogICAgLy8KICAgIC8vICAgbGV0IHRoaW5nLCB0aGluZ0luRHM7CiAgICAvLyAgIC8vdGhpbmcgPSBhZGRVcmwodGhpbmcsIFJERi50eXBlLCBMRFAuUmVzb3VyY2UpOwogICAgLy8gICBwYXJhbXMudGFncy5mb3JFYWNoKCh0KSA9PiB7CiAgICAvLyAgICAgY29uc29sZS5sb2coImFkZCIsdC5zdWJqZWN0LCB0LnByZWRpY2F0ZS52YWx1ZSwgdC5vYmplY3QuY29uY2VwdHVyaSApCiAgICAvLyAgICAgLy8gIGNvbnNvbGUubG9nKHRoaW5nID09IHVuZGVmaW5lZCB8fCB0aGluZyA9PW51bGwsIHRoaW5nKQogICAgLy8gICAgIC8vdGhpbmcgPT0gdW5kZWZpbmVkIHx8IHRoaW5nID09bnVsbCA/ICB0aGluZyA9IGdldFRoaW5nKHRhZ0RhdGFzZXQsIHBhcmFtcy50YWdGaWxlKyIjIit0LnN1YmplY3QpIDogIiIKICAgIC8vICAgICB0aGluZyA9PSB1bmRlZmluZWQgfHwgdGhpbmcgPT1udWxsID8gIHRoaW5nID0gZ2V0VGhpbmcodGFnRGF0YXNldCwgdC5zdWJqZWN0KSA6ICIiCiAgICAvLyAgICAgLy8gIGNvbnNvbGUubG9nKHRoaW5nKQogICAgLy8gICAgIC8vICB0aGluZyA9PSBudWxsID8gdGhpbmcgPSBjcmVhdGVUaGluZyh7bmFtZTogdC5zdWJqZWN0fSkgOiAiIgogICAgLy8gICAgIHRoaW5nID09IG51bGwgPyB0aGluZyA9IGNyZWF0ZVRoaW5nKHt1cmw6IHQuc3ViamVjdH0pIDogIiIKICAgIC8vICAgICAvLyAgY29uc29sZS5sb2codGhpbmcpCiAgICAvLyAgICAgdGhpbmcgPSBhZGRVcmwodGhpbmcsIHQucHJlZGljYXRlLnZhbHVlLCB0Lm9iamVjdC5jb25jZXB0dXJpKTsKICAgIC8vCiAgICAvLyAgIH0pOwogICAgLy8gICB0aGluZ0luRHMgPSBzZXRUaGluZyh0YWdEYXRhc2V0LCB0aGluZyk7CiAgICAvLwogICAgLy8KICAgIC8vICAgbGV0IHNhdmVkVGhpbmcgPSBhd2FpdCBzYXZlU29saWREYXRhc2V0QXQocGFyYW1zLnRhZ0ZpbGUsIHRoaW5nSW5EcywgeyBmZXRjaDogc2MuZmV0Y2ggfSApOwogICAgLy8gICBjb25zb2xlLmxvZygiRmlsZSBzYXZlZCIsc2F2ZWRUaGluZyk7CiAgICAvLyB9LAoKICAgIFZ1ZS5wcm90b3R5cGUuJHNhdmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KHBhcmFtcykgewogICAgICAgIHZhciB0eXBlLCBzYXZlZEZpbGU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhcmFtcyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDkucHJldiA9IDE7CiAgICAgICAgICAgICAgICB0eXBlID0gcGFyYW1zLnR5cGUgJiYgcGFyYW1zLnR5cGUubWltZSB8fCAicGxhaW4vdGV4dCI7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gb3ZlcndyaXRlRmlsZShwYXJhbXMucGF0aCwgbmV3IEJsb2IoW3BhcmFtcy5jb250ZW50XSwgewogICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlCiAgICAgICAgICAgICAgICB9KSwgewogICAgICAgICAgICAgICAgICBmZXRjaDogc2MuZmV0Y2gKICAgICAgICAgICAgICAgIH0gLy8gT3IgaW4gTm9kZToKICAgICAgICAgICAgICAgIC8vIEJ1ZmZlci5mcm9tKCJUaGlzIGlzIGEgcGxhaW4gcGllY2Ugb2YgdGV4dCIsICJ1dGY4IiksIHsgdHlwZTogInBsYWluL3RleHQiIH0pCiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBzYXZlZEZpbGUgPSBfY29udGV4dDkuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJGaWxlIHNhdmVkISIsIHNhdmVkRmlsZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS50MCA9IF9jb250ZXh0OVsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGFsZXJ0KF9jb250ZXh0OS50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTksIG51bGwsIFtbMSwgOV1dKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDkpIHsKICAgICAgICByZXR1cm4gX3JlZjkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICBWdWUucHJvdG90eXBlLiR1cGxvYWRMb2NhbFRvUG9kID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYxMCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKHBhcmFtcykgewogICAgICAgIHZhciB0eXBlLCBkaXN0SXNEaXJlY3RvcnksIHNyY0lzRGlyZWN0b3J5LCBzbHVnLCBzYXZlZEZpbGUsIGFuc3dlciwgX3NhdmVkRmlsZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnByZXYgPSAwOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocGFyYW1zKTsKCiAgICAgICAgICAgICAgICBpZiAoIShwYXJhbXMuZGVzdCA9PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGFsZXJ0KCJQbGVhc2Ugc2VsZWN0IGEgZGVzdGluYXRpb24iKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHR5cGUgPSBwYXJhbXMudHlwZSAmJiBwYXJhbXMudHlwZS5taW1lIHx8ICJwbGFpbi90ZXh0IjsKICAgICAgICAgICAgICAgIGRpc3RJc0RpcmVjdG9yeSA9IHBhcmFtcy5kZXN0LmVuZHNXaXRoKCcvJyk7CiAgICAgICAgICAgICAgICBzcmNJc0RpcmVjdG9yeSA9IHBhcmFtcy5ldmVudCA9PSAiYWRkRGlyIjsKCiAgICAgICAgICAgICAgICBpZiAoIXNyY0lzRGlyZWN0b3J5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oInRvZG8gc3JjIGlzIGRpcmVjdG9yeSIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIGlmICghZGlzdElzRGlyZWN0b3J5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBwYXJhbXMucGFydHMgPT0gdW5kZWZpbmVkID8gcGFyYW1zLnBhcnRzID0gcGFyYW1zLnBhdGguc3BsaXQoc3RvcmUuc3RhdGUudmF0Y2gucGF0aHNlcCkgOiAiIjsKICAgICAgICAgICAgICAgIHNsdWcgPSBlbmNvZGVVUklDb21wb25lbnQocGFyYW1zLnBhcnRzLnBvcCgpKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgcmV0dXJuIHNhdmVGaWxlSW5Db250YWluZXIocGFyYW1zLmRlc3QsIG5ldyBCbG9iKFtwYXJhbXMuY29udGVudF0sIHsKICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZQogICAgICAgICAgICAgICAgfSksIHsKICAgICAgICAgICAgICAgICAgc2x1Zzogc2x1ZywKICAgICAgICAgICAgICAgICAgZmV0Y2g6IHNjLmZldGNoCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHNhdmVkRmlsZSA9IF9jb250ZXh0MTAuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJGaWxlIHNhdmVkIGF0ICIuY29uY2F0KGdldFNvdXJjZVVybChzYXZlZEZpbGUpKSk7CiAgICAgICAgICAgICAgICB0aGlzLiRzZXRDdXJyZW50VGhpbmdVcmwocGFyYW1zLmRlc3QpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIGFuc3dlciA9IGNvbmZpcm0oIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZXBsYWNlICIgKyBwYXJhbXMuZGVzdCk7CgogICAgICAgICAgICAgICAgaWYgKCEoYW5zd2VyID09IHRydWUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAyNjsKICAgICAgICAgICAgICAgIHJldHVybiBvdmVyd3JpdGVGaWxlKHBhcmFtcy5kZXN0LCBuZXcgQmxvYihbcGFyYW1zLmNvbnRlbnRdLCB7CiAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUKICAgICAgICAgICAgICAgIH0pLCB7CiAgICAgICAgICAgICAgICAgIGZldGNoOiBzYy5mZXRjaAogICAgICAgICAgICAgICAgfSAvLyBPciBpbiBOb2RlOgogICAgICAgICAgICAgICAgLy8gQnVmZmVyLmZyb20oIlRoaXMgaXMgYSBwbGFpbiBwaWVjZSBvZiB0ZXh0IiwgInV0ZjgiKSwgeyB0eXBlOiAicGxhaW4vdGV4dCIgfSkKICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgICBfc2F2ZWRGaWxlID0gX2NvbnRleHQxMC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkZpbGUgc2F2ZWQhIiwgX3NhdmVkRmlsZSk7CgogICAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAzMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDMwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5wcmV2ID0gMzA7CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnQwID0gX2NvbnRleHQxMFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGFsZXJ0KF9jb250ZXh0MTAudDApOwoKICAgICAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTAsIHRoaXMsIFtbMCwgMzBdXSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gxMCkgewogICAgICAgIHJldHVybiBfcmVmMTAuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKSwgVnVlLnByb3RvdHlwZS4kY3JlYXRlRmlsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMTEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMShwYXJhbXMpIHsKICAgICAgICB2YXIgdHlwZSwgc2x1Zywgc2F2ZWRGaWxlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIHR5cGUgPSBwYXJhbXMudHlwZSAmJiBwYXJhbXMudHlwZS5taW1lIHx8ICJwbGFpbi90ZXh0IjsKICAgICAgICAgICAgICAgIHNsdWcgPSBlbmNvZGVVUklDb21wb25lbnQocGFyYW1zLmZpbGVuYW1lKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gc2F2ZUZpbGVJbkNvbnRhaW5lcihwYXJhbXMuZGVzdCwgbmV3IEJsb2IoW3BhcmFtcy5jb250ZW50IHx8ICIiXSwgewogICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlCiAgICAgICAgICAgICAgICB9KSwgewogICAgICAgICAgICAgICAgICBzbHVnOiBzbHVnLAogICAgICAgICAgICAgICAgICBmZXRjaDogc2MuZmV0Y2gKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBzYXZlZEZpbGUgPSBfY29udGV4dDExLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRmlsZSBzYXZlZCBhdCAiLmNvbmNhdChnZXRTb3VyY2VVcmwoc2F2ZWRGaWxlKSkpOwogICAgICAgICAgICAgICAgdGhpcy4kc2V0Q3VycmVudFRoaW5nVXJsKHBhcmFtcy5kZXN0KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLnByZXYgPSAxMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEudDAgPSBfY29udGV4dDExWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgYWxlcnQoX2NvbnRleHQxMS50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSwgdGhpcywgW1swLCAxMF1dKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDExKSB7CiAgICAgICAgcmV0dXJuIF9yZWYxMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpLCBWdWUucHJvdG90eXBlLiRjcmVhdGVGb2xkZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjEyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIocGFyYW1zKSB7CiAgICAgICAgdmFyIHVybCwgc2F2ZWRGb2xkZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgdXJsID0gcGFyYW1zLmRlc3QgKyBlbmNvZGVVUklDb21wb25lbnQocGFyYW1zLmZvbGRlcm5hbWUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb250YWluZXJBdCh1cmwsIHsKICAgICAgICAgICAgICAgICAgZmV0Y2g6IHNjLmZldGNoCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgc2F2ZWRGb2xkZXIgPSBfY29udGV4dDEyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRm9sZGVyIHNhdmVkIGF0ICIuY29uY2F0KGdldFNvdXJjZVVybChzYXZlZEZvbGRlcikpKTsKICAgICAgICAgICAgICAgIHRoaXMuJHNldEN1cnJlbnRUaGluZ1VybChwYXJhbXMuZGVzdCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi50MCA9IF9jb250ZXh0MTJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBhbGVydChfY29udGV4dDEyLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyLCB0aGlzLCBbWzAsIDldXSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gxMikgewogICAgICAgIHJldHVybiBfcmVmMTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKSwgVnVlLnByb3RvdHlwZS4kZGVsZXRlT25Qb2QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjEzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTModXJsKSB7CiAgICAgICAgdmFyIHBhcmVudDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMucHJldiA9IDA7CgogICAgICAgICAgICAgICAgaWYgKCF1cmwuZW5kc1dpdGgoJy8nKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZUNvbnRhaW5lcih1cmwsIHsKICAgICAgICAgICAgICAgICAgZmV0Y2g6IHNjLmZldGNoCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZUZpbGUodXJsLCB7CiAgICAgICAgICAgICAgICAgIGZldGNoOiBzYy5mZXRjaAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCIgZGVsZXRlZCAhIiwgdXJsKTsKICAgICAgICAgICAgICAgIHBhcmVudCA9IHVybC5zbGljZSgwLCB1cmwubGFzdEluZGV4T2YoJy8nKSkgKyAnLyc7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygicGFyZW50IiwgcGFyZW50KTsKICAgICAgICAgICAgICAgIHRoaXMuJHNldEN1cnJlbnRUaGluZ1VybChwYXJlbnQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMucHJldiA9IDE0OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy50MCA9IF9jb250ZXh0MTNbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBhbGVydChfY29udGV4dDEzLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzLCB0aGlzLCBbWzAsIDE0XV0pOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKF94MTMpIHsKICAgICAgICByZXR1cm4gX3JlZjEzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7IC8vIFZ1ZS5wcm90b3R5cGUuJHN1YnNjcmliZSA9IGFzeW5jIGZ1bmN0aW9uKHJlc291cmNlVVJMKXsKICAgIC8vCiAgICAvLyAgIGNvbnN0IGdhdGV3YXkgPSAiaHR0cHM6Ly9ub3RpZmljYXRpb24ucG9kLmlucnVwdC5jb20vIjsKICAgIC8vCiAgICAvLyAgIGNvbnN0IHdlYnNvY2tldCA9IG5ldyBXZWJzb2NrZXROb3RpZmljYXRpb24oCiAgICAvLyAgICAgcmVzb3VyY2VVUkwsCiAgICAvLyAgICAgeyBmZXRjaDogc2MuZmV0Y2gsIGdhdGV3YXkgfQogICAgLy8gICApOwogICAgLy8gICBjb25zb2xlLmxvZygiU3Vic2NyaXB0aW9uIHRvIiwgcmVzb3VyY2VVUkwpCiAgICAvLyAgIHdlYnNvY2tldC5vbigiY29ubmVjdGVkIiwgKCkgPT4KICAgIC8vICAgY29uc29sZS5sb2coImNvbm5lY3RlZCIsIHdlYnNvY2tldCkKICAgIC8vICAgLy8gc2V0TWVzc2FnZXMoKHByZXYpID0+IFsKICAgIC8vICAgLy8gICAuLi5wcmV2LAogICAgLy8gICAvLyAgIGBXZWJzb2NrZXQgY29ubmVjdGVkOyB3YXRjaGluZyAke3BvZFJvb3R9YCwKICAgIC8vICAgLy8gXSkKICAgIC8vICk7CiAgICAvLwogICAgLy8gd2Vic29ja2V0Lm9uKCJtZXNzYWdlIiwgKG1lc3NhZ2UpID0+CiAgICAvLyB7CiAgICAvLyAgIGNvbnNvbGUubG9nKCdtZXNzYWdlJywgSlNPTi5wYXJzZShtZXNzYWdlKSkKICAgIC8vIH0KICAgIC8vICAgLy8gc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCBmb3JtYXRNZXNzYWdlKG1lc3NhZ2UpXSkKICAgIC8vICk7CiAgICAvLwogICAgLy8gd2Vic29ja2V0Lm9uKCJjbG9zZWQiLCAoKSA9PgogICAgLy8gY29uc29sZS5sb2coIndlYnNvY2tldCBjbG9zZWQiKQogICAgLy8gLy8gIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgIldlYnNvY2tldCBjbG9zZWQiXSkKICAgIC8vICk7CiAgICAvLwogICAgLy8gd2Vic29ja2V0Lm9uKCJlcnJvciIsIChlcnJvcikgPT4gewogICAgLy8gICAvKiBlc2xpbnQgbm8tY29uc29sZTogMCAqLwogICAgLy8gICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgIC8vICAgLy8gc2V0TWVzc2FnZXMoKHByZXYpID0+IFsKICAgIC8vICAgLy8gICAuLi5wcmV2LAogICAgLy8gICAvLyAgICJXZWJzb2NrZXQgZXJyb3IgKHNlZSBjb25zb2xlIGZvciBkZXRhaWxzKSIsCiAgICAvLyAgIC8vIF0pOwogICAgLy8gfSk7CiAgICAvLwogICAgLy8gICAvLyB3ZWJzb2NrZXQub24oIm1lc3NhZ2UiLCBjb25zb2xlLmxvZyk7CiAgICAvLyAgIC8vIHdlYnNvY2tldC5vbigiKiIsIGNvbnNvbGUubG9nKTsKICAgIC8vICAgLy8gd2Vic29ja2V0Lm9uKCJjb25uZWN0IiwgY29uc29sZS5sb2cpOwogICAgLy8gICAvLyB3ZWJzb2NrZXQub24oIkNSRUFURSIsIGNvbnNvbGUubG9nKTsKICAgIC8vCiAgICAvLyAgIHdlYnNvY2tldC5jb25uZWN0KCk7CiAgICAvLyB9CiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLyBhc3luYyBmdW5jdGlvbiBwYXJzZVRhZ3NSZGYodXJsKXsKICAgIC8vICAgbGV0IGdyYXBoID0ge25vZGVzOiBbXSwgZWRnZXM6IFtdfQogICAgLy8gICBjb25zb2xlLmxvZygicGFyc2VUYWdzUmRmIix1cmwpCiAgICAvLyAgIHRyeXsKICAgIC8vCiAgICAvLyAgICAgbGV0IGRhdGFzZXQgPSBhd2FpdCBnZXRTb2xpZERhdGFzZXQodXJsLCB7IGZldGNoOiBzYy5mZXRjaCB9KTsKICAgIC8vICAgICBjb25zb2xlLmxvZyhkYXRhc2V0KQogICAgLy8gICAgIGF3YWl0IGRhdGFzZXQuX3F1YWRzLmZvckVhY2goYXN5bmMgZnVuY3Rpb24gKHEpICB7CiAgICAvLyAgICAgICBsZXQgW3MscCxvXSA9IFsKICAgIC8vICAgICAgICAge2lkOnEuc3ViamVjdC5pZCwgbGFiZWw6IGF3YWl0IGxhc3RQYXJ0KHEuc3ViamVjdC5pZCl9LAogICAgLy8gICAgICAgICBxLnByZWRpY2F0ZS5pZCwKICAgIC8vICAgICAgICAge2lkOnEub2JqZWN0LmlkLCBsYWJlbDogYXdhaXQgbGFzdFBhcnQocS5vYmplY3QuaWQpfQogICAgLy8gICAgICAgXQogICAgLy8gICAgICAgLy8gIGNvbnNvbGUubG9nKHMscCxvKQogICAgLy8gICAgICAgdmFyIGluZGV4UyA9IGdyYXBoLm5vZGVzLmZpbmRJbmRleCh4ID0+IHguaWQ9PXMuaWQpOwogICAgLy8gICAgICAgaW5kZXhTID09PSAtMSA/IGdyYXBoLm5vZGVzLnB1c2gocykgOiAiIiAvL2NvbnNvbGUubG9nKCJvYmplY3QgYWxyZWFkeSBleGlzdHMiKQogICAgLy8gICAgICAgdmFyIGluZGV4TyA9IGdyYXBoLm5vZGVzLmZpbmRJbmRleCh4ID0+IHguaWQ9PW8uaWQpOwogICAgLy8gICAgICAgaW5kZXhPID09PSAtMSA/IGdyYXBoLm5vZGVzLnB1c2gobykgOiAiIiAvL2NvbnNvbGUubG9nKCJvYmplY3QgYWxyZWFkeSBleGlzdHMiKQogICAgLy8gICAgICAgbGV0IGVkZ2UgPSB7ZnJvbTogcy5pZCwgdG86IG8uaWQsIGxhYmVsOiBhd2FpdCBsYXN0UGFydChwKX0KICAgIC8vICAgICAgIHZhciBpbmRleFAgPSBncmFwaC5lZGdlcy5maW5kSW5kZXgoeCA9PiB4LmZyb209PWVkZ2UuZnJvbSAmJiB4LnRvID09IGVkZ2UudG8gJiYgeC5sYWJlbCA9PSBlZGdlLmxhYmVsKTsKICAgIC8vICAgICAgIGluZGV4UCA9PT0gLTEgPyBncmFwaC5lZGdlcy5wdXNoKGVkZ2UpIDogIiIvL2NvbnNvbGUubG9nKCJvYmplY3QgYWxyZWFkeSBleGlzdHMiKQogICAgLy8gICAgIH0pOwogICAgLy8gICB9CiAgICAvLyAgIGNhdGNoKGUpewogICAgLy8gICAgIGNvbnNvbGUubG9nKGUpCiAgICAvLyAgIH0KICAgIC8vCiAgICAvLyAgIGNvbnNvbGUubG9nKGdyYXBoKQogICAgLy8gICByZXR1cm4gZ3JhcGgKICAgIC8vIH0KICAgIC8vIGFzeW5jIGZ1bmN0aW9uIHBhcnNlVGFnc0pzb25sZCh1cmwpewogICAgLy8gICBsZXQgZG9jdW1lbnRMb2FkZXJUeXBlID0gJ3hocicKICAgIC8vICAgYXdhaXQganNvbmxkLnVzZURvY3VtZW50TG9hZGVyKGRvY3VtZW50TG9hZGVyVHlwZS8qLCBvcHRpb25zKi8pOwogICAgLy8gICBsZXQgZG9jID0gYXdhaXQganNvbmxkLmRvY3VtZW50TG9hZGVyKHVybCwgZnVuY3Rpb24oZXJyKSB7CiAgICAvLyAgICAgaWYoZXJyKSB7CiAgICAvLyAgICAgICBhbGVydChlcnIpCiAgICAvLyAgICAgfQogICAgLy8gICB9KQogICAgLy8gICBkb2MuanNvbmxkID0gSlNPTi5wYXJzZShkb2MuZG9jdW1lbnQpCiAgICAvLyAgIGRvYy5qc29ubGQuZm9yRWFjaCgodCkgPT4gewogICAgLy8gICAgIGNvbnNvbGUubG9nKHQpCiAgICAvLwogICAgLy8gICB9KTsKICAgIC8vCiAgICAvLyAgIC8vICBkZWxldGUgZG9jLmRvY3VtZW50CiAgICAvLyAgIC8vICBjb25zb2xlLmxvZyhkb2MpCiAgICAvLyAgIHJldHVybiBkb2MKICAgIC8vIH0KICAgIC8vIGFzeW5jIGZ1bmN0aW9uIGxhc3RQYXJ0KHRleHQpewogICAgLy8gICAvLyAgY29uc29sZS5sb2codGV4dCwgdHlwZW9mIHRleHQpCiAgICAvLyAgIGxldCB3aWtpZGF0YSA9ICdodHRwOi8vd3d3Lndpa2lkYXRhLm9yZy9lbnRpdHkvJwogICAgLy8gICBjb25zdCBBUElfVVJMID0gJ2h0dHBzOi8vd3d3Lndpa2lkYXRhLm9yZy93L2FwaS5waHA/YWN0aW9uPXdiZ2V0ZW50aXRpZXMmb3JpZ2luPSomZm9ybWF0PWpzb24nCiAgICAvLyAgIGxldCBsYW5ndWFnZSA9ICBuYXZpZ2F0b3IubGFuZ3VhZ2Uuc3BsaXQoIi0iKVswXSB8fCAnZW4nCiAgICAvLyAgIGxhbmd1YWdlKz0nfGVuJwogICAgLy8KICAgIC8vICAgaWYgKHRleHQuc3RhcnRzV2l0aCh3aWtpZGF0YSkpewogICAgLy8gICAgIGxldCBzcGxpdGV4dCA9IHRleHQuc3BsaXQod2lraWRhdGEpWzFdCiAgICAvLyAgICAgLy8gIGNvbnNvbGUubG9nKHNwbGl0ZXh0KQogICAgLy8gICAgIC8vICB0cnl7CiAgICAvLyAgICAgbGV0IHNlYXJjaF91cmwgPSBBUElfVVJMKyImaWRzPSIrc3BsaXRleHQrIiZwcm9wcz1sYWJlbHMmbGFuZ3VhZ2VzPSIrbGFuZ3VhZ2UKICAgIC8vICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChzZWFyY2hfdXJsKQogICAgLy8gICAgIC8vICBjb25zb2xlLmxvZyhyZXMpCiAgICAvLyAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCkKICAgIC8vICAgICBsZXQgbGFiZWwKICAgIC8vICAgICB0cnl7CiAgICAvLyAgICAgICBsYWJlbCA9IGpzb24uZW50aXRpZXNbc3BsaXRleHRdLmxhYmVsc1tsYW5ndWFnZV0gIT0gdW5kZWZpbmVkID8ganNvbi5lbnRpdGllc1tzcGxpdGV4dF0ubGFiZWxzW2xhbmd1YWdlXS52YWx1ZSA6IGpzb24uZW50aXRpZXNbc3BsaXRleHRdLmxhYmVscy5lbi52YWx1ZQogICAgLy8gICAgIH0KICAgIC8vICAgICBjYXRjaChlKXsKICAgIC8vICAgICAgIGNvbnNvbGUubG9nKGUsanNvbi5lbnRpdGllcykKICAgIC8vICAgICB9CiAgICAvLyAgICAgcmV0dXJuIGxhYmVsCiAgICAvLyAgICAgLy8gdGhpcy5pdGVtcyA9IHN1Z2dlc3Rpb25zLnNlYXJjaAogICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuaXRlbXMpCiAgICAvLyAgICAgLy8gfWNhdGNoKGUpewogICAgLy8gICAgIC8vICAgYWxlcnQoZSkKICAgIC8vICAgICAvLyB9CiAgICAvLwogICAgLy8gICB9ZWxzZSBpZiAodHlwZW9mIHRleHQgPT0gJ29iamVjdCcgJiYgdGV4dFsncmRmczpsYWJlbCddICE9IHVuZGVmaW5lZCl7CiAgICAvLyAgICAgcmV0dXJuIHRleHRbJ3JkZnM6bGFiZWwnXQogICAgLy8gICB9ZWxzZSBpZiAodHlwZW9mIHRleHQgPT0gJ3N0cmluZycgJiYgdGV4dC5zdGFydHNXaXRoKCdodHRwJykpewogICAgLy8gICAgIHZhciBuID0gdGV4dC5sYXN0SW5kZXhPZignLycpOwogICAgLy8gICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZyhuICsgMSk7CiAgICAvLyAgIH0KICAgIC8vICAgZWxzZXsKICAgIC8vICAgICByZXR1cm4gdGV4dAogICAgLy8gICB9CiAgICAvLyB9CiAgfQp9OyAvLyBBdXRvLWluc3RhbGwKCmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuVnVlKSB7CiAgd2luZG93LlZ1ZS51c2UocGx1Z2luKTsKfQoKZXhwb3J0IGRlZmF1bHQgcGx1Z2luOw=="},{"version":3,"sources":["/home/smag/dev/siti/src/plugins/vue-solid.js"],"names":["getSolidDataset","getThingAll","getFile","isRawData","getContentType","saveFileInContainer","getContainedResourceUrlAll","createContainerAt","getSourceUrl","deleteFile","deleteContainer","overwriteFile","getStringNoLocale","getThing","getUrlAll","getUrl","FOAF","VCARD","WS","sc","plugin","install","Vue","opts","store","prototype","$login","issuer","login","oidcIssuer","redirectUrl","window","location","href","clientName","alert","$logout","params","session","getDefaultSession","console","log","logout","commit","$checkSessions","handleIncomingRedirect","restorePreviousSession","restore","then","info","onSessionRestore","url","$getPodInfosFromSession","pod","logged","isLoggedIn","webId","$getPodInfos","storage","$setCurrentThingUrl","$getFolderContent","fetch","myDataset","resources","pages","map","x","name","replace","$setCurrentThing","page","file","reader","FileReader","addEventListener","path","content","result","type","mime","root","readAsText","length","things","dataset","profile","knows","friends","hasPhoto","photo","$save","Blob","savedFile","$uploadLocalToPod","dest","undefined","distIsDirectory","endsWith","srcIsDirectory","event","parts","split","state","vatch","pathsep","slug","encodeURIComponent","pop","answer","confirm","$createFile","filename","$createFolder","foldername","savedFolder","$deleteOnPod","parent","slice","lastIndexOf","use"],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGD;AArgBY,CAAf,C,CAugBA;;AACA,IAAI,OAAOJ,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACT,GAA5C,EAAiD;AAC/CS,EAAAA,MAAM,CAACT,GAAP,CAAWiG,GAAX,CAAenG,MAAf;AACD;;AAED,eAAeA,MAAf","sourcesContent":["import {\n  getSolidDataset,\n  getThingAll,\n  getFile,\n  isRawData,\n  getContentType,\n  saveFileInContainer,\n  getContainedResourceUrlAll,\n  createContainerAt,\n  getSourceUrl,\n  deleteFile,\n  deleteContainer,\n  //  addStringNoLocale,\n  // setThing,\n  // saveSolidDatasetAt,\n  // createSolidDataset,\n  // createThing,\n  // addUrl,\n  overwriteFile,\n  getStringNoLocale,\n  getThing,\n  getUrlAll,\n  getUrl\n} from \"@inrupt/solid-client\";\nimport { FOAF, /*RDF, LDP,*/ VCARD } from \"@inrupt/vocab-common-rdf\";\nimport { WS, /*, VCARD */} from \"@inrupt/vocab-solid-common\";\nimport * as sc from '@inrupt/solid-client-authn-browser'\n// import {\n//   WebsocketNotification,\n// } from \"@inrupt/solid-client-notifications\";\n// import * as jsonld from 'jsonld';\n\n\nconst plugin = {\n  install(Vue, opts = {}) {\n    let store = opts.store\n\n    Vue.prototype.$login= async function(issuer) {\n\n      try{\n        await sc.login({\n          oidcIssuer: issuer,\n          redirectUrl: window.location.href,\n          clientName: \"Vatch\",\n        });\n      } catch(e){\n        alert(e)\n      }\n    },\n\n    Vue.prototype.$logout = async function(params){\n      try{\n        let session = sc.getDefaultSession()\n        console.log(params)\n        await session.logout()\n        store.commit('solid/setSession',session)\n        store.commit('solid/setPod', {})\n      } catch(e){\n        alert(e)\n      }\n    },\n\n    Vue.prototype.$checkSessions = async function( params){\n      try{\n        await sc.handleIncomingRedirect({restorePreviousSession : params.restore}).then((info) => {\n          console.log(info)\n        })\n        let session = sc.getDefaultSession()\n        sc.onSessionRestore((url) => {\n          console.log(\"restore\",url)\n        });\n        store.commit('solid/setSession',session)\n        //  dispatch('getPodInfos', session)\n        this.$getPodInfosFromSession(session)\n      } catch(e){\n        alert(e)\n      }\n    },\n\n    Vue.prototype.$getPodInfosFromSession = async function(session){\n      try{\n        let pod = {}\n        pod.logged = session.info.isLoggedIn\n        if (pod.logged) {\n          pod.webId = session.info.webId\n          pod = await this.$getPodInfos(pod)\n          store.commit('solid/setPod', pod)\n          if (pod.storage != null){\n            this.$setCurrentThingUrl(pod.storage)\n            // let publicTagFile = pod.storage+'public/tags.ttl'\n            // //let privateTagFile = podStorage+'private/tags.ttl'\n            // let tags = await this.$getTags(publicTagFile)\n            // console.log(\"############################tags\",tags)\n          }\n        }else{\n          store.commit('solid/setPod', null)\n          store.commit('solid/setThings', [])\n        }\n      } catch(e){\n        alert(e)\n      }\n    }\n\n    Vue.prototype.$getFolderContent = async function(url){\n      const myDataset = await getSolidDataset( url, {fetch: sc.fetch});\n      console.log(myDataset)\n      let resources = await getContainedResourceUrlAll(myDataset,{fetch: sc.fetch} )\n      let pages = resources.map(x => {return {url: x, name: x.replace(url,\"\")}})\n      console.log(\"Pages\", pages)\n      return pages\n    }\n\n\n\n    Vue.prototype.$setCurrentThing = async function(page){\n      let url = page.url\n      try{\n        const file = await getFile(url, {fetch: sc.fetch});\n        // file is a Blob (see https://developer.mozilla.org/docs/Web/API/Blob)\n        console.log(\n          `Fetched a ${getContentType(file)} file from ${getSourceUrl(file)}.`\n        );\n        console.log(`The file is ${isRawData(file) ? \"not \" : \"\"}a dataset.`);\n\n        store.commit('solid/setCurrentRemoteUrl',url)\n\n        if(isRawData(file)){\n          console.log(\"todo raw data\", file)\n          var reader = new FileReader();\n          reader.addEventListener(\"loadend\", function() {\n            console.log(reader)\n            //  console.log(reader.result)\n            store.commit('viki/setFile', {\n              name: page.name,\n              path: getSourceUrl(file),\n              content : reader.result,\n              type:{mime: getContentType(file)}\n            }, { root: true })\n            // reader.result contient le contenu du\n            // blob sous la forme d'un tableau typ\n          });\n          reader.readAsText(file);\n        }else{\n          const myDataset = await getSolidDataset( url, {fetch: sc.fetch});\n          console.log(myDataset)\n\n          let resources = await getContainedResourceUrlAll(myDataset,{fetch: sc.fetch} )\n          console.log(\"Resources\", resources)\n          if(resources.length > 0){\n            store.commit('solid/setRemoteResources',resources)\n          }else{\n            const things = await getThingAll(\n              myDataset,\n              url\n            );\n            store.commit('solid/setThings',things)\n          }\n        }\n      }\n      catch(e){\n        alert(e)\n      }\n\n    },\n\n\n    Vue.prototype.$setCurrentThingUrl = async function( url){\n      try{\n        const file = await getFile(url, {fetch: sc.fetch});\n        // file is a Blob (see https://developer.mozilla.org/docs/Web/API/Blob)\n        console.log(\n          `Fetched a ${getContentType(file)} file from ${getSourceUrl(file)}.`\n        );\n        console.log(`The file is ${isRawData(file) ? \"not \" : \"\"}a dataset.`);\n\n        store.commit('solid/setCurrentRemoteUrl',url)\n\n        if(isRawData(file)){\n          console.log(\"todo raw data\", file)\n          var reader = new FileReader();\n          reader.addEventListener(\"loadend\", function() {\n            console.log(reader)\n            //  console.log(reader.result)\n            store.commit('viki/setFile', {\n              path: getSourceUrl(file),\n              content : reader.result,\n              type:{mime: getContentType(file)}\n            }, { root: true })\n            // reader.result contient le contenu du\n            // blob sous la forme d'un tableau typ\n          });\n          reader.readAsText(file);\n        }else{\n          const myDataset = await getSolidDataset( url, {fetch: sc.fetch});\n          console.log(myDataset)\n\n          let resources = await getContainedResourceUrlAll(myDataset,{fetch: sc.fetch} )\n          console.log(\"Resources\", resources)\n          if(resources.length > 0){\n            store.commit('solid/setRemoteResources',resources)\n          }else{\n            const things = await getThingAll(\n              myDataset,\n              url\n            );\n            store.commit('solid/setThings',things)\n          }\n        }\n      }\n      catch(e){\n        alert(e)\n      }\n\n    },\n\n    Vue.prototype.$getPodInfos = async function(pod){\n      try{\n        const dataset = await getSolidDataset( pod.webId, { fetch: sc.fetch });\n        console.log(\"DATASET\", dataset)\n        let profile = await getThing( dataset, pod.webId );\n        pod.name = await getStringNoLocale(profile, FOAF.name);\n        pod.friends = await getUrlAll(profile, FOAF.knows).map(webId => {return {webId: webId}})\n        pod.storage = await getUrl(profile, WS.storage);\n        pod.photo = await getUrl(profile, VCARD.hasPhoto);\n        // pod.publicTags = await this.$getTags(pod.storage+'public/tags.ttl')\n        // store.commit(\"vatch/addToNetwork\", pod.publicTags)\n        //this.$subscribe(pod.storage)\n        console.log(\"getpodinfos\",pod)\n      }catch(e)\n      {\n        console.log(\"erreur\",e, pod)\n      }\n      return await pod\n    }\n\n    // Vue.prototype.$getTags = async function (tagFile){\n    //   try{\n    //\n    //     // let tagsJ = await parseTagsJsonld(tagFile)\n    //     // console.log(\"tags JSONLD\",tagsJ)\n    //\n    //     let tagsR = await parseTagsRdf(tagFile)\n    //     console.log(\"tags RDF\",tagsR)\n    //\n    //     const tagDataset = await getSolidDataset( tagFile, { fetch: sc.fetch });\n    //     console.log(\"DATASET\", tagDataset)\n    //     let things =  await getThingAll(tagDataset, tagFile);\n    //     console.log(things)\n    //\n    //     return tagsR\n    //   }catch(e){\n    //     return []\n    //   }\n    // }\n\n\n    // Vue.prototype.$addTags = async function(params){\n    //   //console.log(params)\n    //\n    //   let tagDataset\n    //   try{\n    //     tagDataset = await getSolidDataset(params.tagFile, {fetch: sc.fetch});\n    //     console.log(\"DATASET\", tagDataset)\n    //   }catch(e){\n    //     //  console.log(e)\n    //   }\n    //\n    //   //  console.log(tagDataset)\n    //   tagDataset== undefined || tagDataset== null ? tagDataset = createSolidDataset() :\"\"\n    //\n    //   let thing, thingInDs;\n    //   //thing = addUrl(thing, RDF.type, LDP.Resource);\n    //   params.tags.forEach((t) => {\n    //     console.log(\"add\",t.subject, t.predicate.value, t.object.concepturi )\n    //     //  console.log(thing == undefined || thing ==null, thing)\n    //     //thing == undefined || thing ==null ?  thing = getThing(tagDataset, params.tagFile+\"#\"+t.subject) : \"\"\n    //     thing == undefined || thing ==null ?  thing = getThing(tagDataset, t.subject) : \"\"\n    //     //  console.log(thing)\n    //     //  thing == null ? thing = createThing({name: t.subject}) : \"\"\n    //     thing == null ? thing = createThing({url: t.subject}) : \"\"\n    //     //  console.log(thing)\n    //     thing = addUrl(thing, t.predicate.value, t.object.concepturi);\n    //\n    //   });\n    //   thingInDs = setThing(tagDataset, thing);\n    //\n    //\n    //   let savedThing = await saveSolidDatasetAt(params.tagFile, thingInDs, { fetch: sc.fetch } );\n    //   console.log(\"File saved\",savedThing);\n    // },\n\n    Vue.prototype.$save = async function(params){\n      console.log(params)\n      try{\n        let type = params.type && params.type.mime || \"plain/text\"\n        const savedFile = await overwriteFile(\n          params.path,\n          new Blob([params.content], { type: type }),\n          { fetch: sc.fetch }\n          // Or in Node:\n          // Buffer.from(\"This is a plain piece of text\", \"utf8\"), { type: \"plain/text\" })\n        );\n        console.log(\"File saved!\", savedFile);\n\n      }catch(e){\n        alert(e)\n      }\n    }\n    Vue.prototype.$uploadLocalToPod = async function(params){\n      try{\n        console.log(params)\n\n        if(params.dest == undefined){\n          alert (\"Please select a destination\")\n          return\n        }\n\n\n        let type = params.type && params.type.mime || \"plain/text\"\n        let distIsDirectory = params.dest.endsWith('/')\n        let srcIsDirectory = params.event == \"addDir\"\n\n        if (srcIsDirectory){\n          console.info(\"todo src is directory\")\n        }else{\n\n          if(distIsDirectory){\n            params.parts == undefined ? params.parts = params.path.split(store.state.vatch.pathsep) : \"\"\n            let slug = encodeURIComponent(params.parts.pop())\n            const savedFile = await saveFileInContainer(\n              params.dest,\n              new Blob([params.content], { type: type }),\n              { slug: slug, fetch: sc.fetch }\n            );\n\n            console.log(`File saved at ${getSourceUrl(savedFile)}`);\n            this.$setCurrentThingUrl(params.dest)\n          }else{\n\n            let answer = confirm(\"Are you sure you want to replace \"+params.dest);\n            if (answer == true)\n            {\n              const savedFile = await overwriteFile(\n                params.dest,\n                new Blob([params.content], { type: type }),\n                { fetch: sc.fetch }\n                // Or in Node:\n                // Buffer.from(\"This is a plain piece of text\", \"utf8\"), { type: \"plain/text\" })\n              );\n              console.log(\"File saved!\", savedFile);\n            }\n          }\n        }\n      } catch(e){\n        alert(e)\n      }\n    },\n\n    Vue.prototype.$createFile = async function(params){\n      try{\n        let type = params.type && params.type.mime || \"plain/text\"\n        let slug = encodeURIComponent(params.filename)\n        const savedFile = await saveFileInContainer(\n          params.dest,\n          new Blob([params.content || \"\"], { type: type }),\n          { slug: slug, fetch: sc.fetch }\n        );\n        console.log(`File saved at ${getSourceUrl(savedFile)}`);\n        this.$setCurrentThingUrl(params.dest)\n      } catch(e){\n        alert(e)\n      }\n    },\n\n    Vue.prototype.$createFolder = async function(params){\n      try{\n        let url = params.dest+encodeURIComponent(params.foldername)\n        const savedFolder = await createContainerAt(url, {fetch: sc.fetch});\n        console.log(`Folder saved at ${getSourceUrl(savedFolder)}`);\n        this.$setCurrentThingUrl(params.dest)\n      } catch(e){\n        alert(e)\n      }\n    },\n\n\n    Vue.prototype.$deleteOnPod = async function(url){\n      try{\n        if(url.endsWith('/')){\n          await deleteContainer(\n            url, { fetch: sc.fetch }\n          );\n        }\n        else{\n          await deleteFile(\n            url, { fetch: sc.fetch }\n          );\n        }\n        console.log(\" deleted !\",url);\n        let parent = url.slice(0, url.lastIndexOf('/'))+'/';\n        console.log(\"parent\",parent)\n        this.$setCurrentThingUrl(parent)\n      } catch(e){\n        alert(e)\n      }\n\n    }\n\n    // Vue.prototype.$subscribe = async function(resourceURL){\n    //\n    //   const gateway = \"https://notification.pod.inrupt.com/\";\n    //\n    //   const websocket = new WebsocketNotification(\n    //     resourceURL,\n    //     { fetch: sc.fetch, gateway }\n    //   );\n    //   console.log(\"Subscription to\", resourceURL)\n    //   websocket.on(\"connected\", () =>\n    //   console.log(\"connected\", websocket)\n    //   // setMessages((prev) => [\n    //   //   ...prev,\n    //   //   `Websocket connected; watching ${podRoot}`,\n    //   // ])\n    // );\n    //\n    // websocket.on(\"message\", (message) =>\n    // {\n    //   console.log('message', JSON.parse(message))\n    // }\n    //   // setMessages((prev) => [...prev, formatMessage(message)])\n    // );\n    //\n    // websocket.on(\"closed\", () =>\n    // console.log(\"websocket closed\")\n    // //  setMessages((prev) => [...prev, \"Websocket closed\"])\n    // );\n    //\n    // websocket.on(\"error\", (error) => {\n    //   /* eslint no-console: 0 */\n    //   console.error(error);\n    //   // setMessages((prev) => [\n    //   //   ...prev,\n    //   //   \"Websocket error (see console for details)\",\n    //   // ]);\n    // });\n    //\n    //   // websocket.on(\"message\", console.log);\n    //   // websocket.on(\"*\", console.log);\n    //   // websocket.on(\"connect\", console.log);\n    //   // websocket.on(\"CREATE\", console.log);\n    //\n    //   websocket.connect();\n    // }\n\n\n    ////////////////////////////\n\n\n\n    // async function parseTagsRdf(url){\n    //   let graph = {nodes: [], edges: []}\n    //   console.log(\"parseTagsRdf\",url)\n    //   try{\n    //\n    //     let dataset = await getSolidDataset(url, { fetch: sc.fetch });\n    //     console.log(dataset)\n    //     await dataset._quads.forEach(async function (q)  {\n    //       let [s,p,o] = [\n    //         {id:q.subject.id, label: await lastPart(q.subject.id)},\n    //         q.predicate.id,\n    //         {id:q.object.id, label: await lastPart(q.object.id)}\n    //       ]\n    //       //  console.log(s,p,o)\n    //       var indexS = graph.nodes.findIndex(x => x.id==s.id);\n    //       indexS === -1 ? graph.nodes.push(s) : \"\" //console.log(\"object already exists\")\n    //       var indexO = graph.nodes.findIndex(x => x.id==o.id);\n    //       indexO === -1 ? graph.nodes.push(o) : \"\" //console.log(\"object already exists\")\n    //       let edge = {from: s.id, to: o.id, label: await lastPart(p)}\n    //       var indexP = graph.edges.findIndex(x => x.from==edge.from && x.to == edge.to && x.label == edge.label);\n    //       indexP === -1 ? graph.edges.push(edge) : \"\"//console.log(\"object already exists\")\n    //     });\n    //   }\n    //   catch(e){\n    //     console.log(e)\n    //   }\n    //\n    //   console.log(graph)\n    //   return graph\n    // }\n\n    // async function parseTagsJsonld(url){\n    //   let documentLoaderType = 'xhr'\n    //   await jsonld.useDocumentLoader(documentLoaderType/*, options*/);\n    //   let doc = await jsonld.documentLoader(url, function(err) {\n    //     if(err) {\n    //       alert(err)\n    //     }\n    //   })\n    //   doc.jsonld = JSON.parse(doc.document)\n    //   doc.jsonld.forEach((t) => {\n    //     console.log(t)\n    //\n    //   });\n    //\n    //   //  delete doc.document\n    //   //  console.log(doc)\n    //   return doc\n    // }\n\n    // async function lastPart(text){\n    //   //  console.log(text, typeof text)\n    //   let wikidata = 'http://www.wikidata.org/entity/'\n    //   const API_URL = 'https://www.wikidata.org/w/api.php?action=wbgetentities&origin=*&format=json'\n    //   let language =  navigator.language.split(\"-\")[0] || 'en'\n    //   language+='|en'\n    //\n    //   if (text.startsWith(wikidata)){\n    //     let splitext = text.split(wikidata)[1]\n    //     //  console.log(splitext)\n    //     //  try{\n    //     let search_url = API_URL+\"&ids=\"+splitext+\"&props=labels&languages=\"+language\n    //     const res = await fetch(search_url)\n    //     //  console.log(res)\n    //     const json = await res.json()\n    //     let label\n    //     try{\n    //       label = json.entities[splitext].labels[language] != undefined ? json.entities[splitext].labels[language].value : json.entities[splitext].labels.en.value\n    //     }\n    //     catch(e){\n    //       console.log(e,json.entities)\n    //     }\n    //     return label\n    //     // this.items = suggestions.search\n    //     // console.log(this.items)\n    //     // }catch(e){\n    //     //   alert(e)\n    //     // }\n    //\n    //   }else if (typeof text == 'object' && text['rdfs:label'] != undefined){\n    //     return text['rdfs:label']\n    //   }else if (typeof text == 'string' && text.startsWith('http')){\n    //     var n = text.lastIndexOf('/');\n    //     return text.substring(n + 1);\n    //   }\n    //   else{\n    //     return text\n    //   }\n    // }\n\n\n  }\n}\n// Auto-install\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use(plugin)\n}\n\nexport default plugin\n"]}]}