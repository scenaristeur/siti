{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./src/components/editable/PageTip.vue?974e","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///src/components/editable/PageTip.vue","webpack:///./src/components/editable/PageTip.vue?9deb","webpack:///./src/components/editable/PageTip.vue","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","name","R","this","p","String","rf","f","undefined","unsafe","render","_vm","_h","$createElement","_c","_self","on","sauve","model","value","callback","$$v","txt","expression","action","staticRenderFns","_typeof","obj","Symbol","iterator","constructor","data","editable","component","defineWellKnownSymbol","$","DESCRIPTORS","global","has","isObject","defineProperty","copyConstructorProperties","NativeSymbol","description","EmptyStringDescriptionStore","SymbolWrapper","arguments","length","result","symbolPrototype","symbolToString","toString","native","regexp","configurable","get","symbol","valueOf","string","desc","slice","replace","forced"],"mappings":"kHACA,IAAIA,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAQ,EAAQ,QAChBC,EAAQ,EAAQ,QAEhBC,EAAY,WACZC,EAAkBC,OAAOC,UACzBC,EAAiBH,EAAgBD,GAEjCK,EAAcP,GAAM,WAAc,MAA2D,QAApDM,EAAeE,KAAK,CAAEC,OAAQ,IAAKR,MAAO,SAEnFS,EAAiBJ,EAAeK,MAAQT,GAIxCK,GAAeG,IACjBZ,EAASM,OAAOC,UAAWH,GAAW,WACpC,IAAIU,EAAIb,EAASc,MACbC,EAAIC,OAAOH,EAAEH,QACbO,EAAKJ,EAAEX,MACPgB,EAAIF,YAAcG,IAAPF,GAAoBJ,aAAaR,UAAY,UAAWD,GAAmBF,EAAMO,KAAKI,GAAKI,GAC1G,MAAO,IAAMF,EAAI,IAAMG,IACtB,CAAEE,QAAQ,K,2CCvBf,IAAIC,EAAS,WAAa,IAAIC,EAAIR,KAASS,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,GAAG,CAAC,MAAQL,EAAIM,OAAOC,MAAM,CAACC,MAAOR,EAAO,IAAES,SAAS,SAAUC,GAAMV,EAAIW,IAAID,GAAKE,WAAW,SAAST,EAAG,aAAa,CAACE,GAAG,CAAC,OAASL,EAAIa,WAAW,IACxQC,EAAkB,G,4DCDP,SAASC,EAAQC,GAa9B,OATED,EADoB,oBAAXE,QAAoD,kBAApBA,OAAOC,SACtC,SAAiBF,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,oBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOjC,UAAY,gBAAkBgC,GAItHD,EAAQC,G,cCQjB,GACE1B,KAAM,OACN8B,KAFF,WAGI,MAAJ,CACMT,IAAK,q6CAcL,aAAN,EACM,UAAN,IAGE,WAAF,CAEI,WAAJ,WAAM,OAAN,iDACI,OAAJ,WAAM,OAAN,kDAEE,QAAF,CACI,OADJ,SACA,GAEM,OADA,QAAN,gBACA,GACQ,IAAR,OACUnB,KAAK6B,UAAW,EAChB,MACF,IAAR,SAEU,MACF,IAAR,UAEU,MACF,IAAR,aAEU,MACF,IAAR,QAEU,MACF,WAIJ,WAvBJ,WAwBM,QAAN,eACM,KAAN,uBAEI,SA3BJ,SA2BA,GACM,KAAN,YACM,QAAN,cAOI,MApCJ,SAoCA,GACM,QAAN,OACM,KAAN,YAGM,QAAN,cACM,KAAN,sBACM,QAAN,eACM,KAAN,kBAEI,OA9CJ,SA8CA,GACM,QAAN,OAEM,QAAN,UAEM,IAWN,IAXA,KAYM,GAXN,mBAEQ,EAAR,MAEQ,QAAR,qBAKM,QAAN,OAEA,qBACQ,EAAR,sBACQ,IAAR,eACA,yBACA,eACU,EAAV,gBACU,EAAV,iBACU,EAAV,6CAEA,uDACQ,EAAR,iCACQ,IAAR,QACA,yBACQ,EAAR,UAoBE,MAAF,CACI,KADJ,WAEM,KAAN,eAGE,SAAF,CACI,KAAJ,CACM,IADN,WACQ,OAAR,6BACM,IAFN,gBCtJgW,I,YCO5VC,EAAY,eACd,EACAvB,EACAe,GACA,EACA,KACA,KACA,MAIa,aAAAQ,E,8BClBf,IAAIC,EAAwB,EAAQ,QAIpCA,EAAsB,a,kCCDtB,IAAIC,EAAI,EAAQ,QACZC,EAAc,EAAQ,QACtBC,EAAS,EAAQ,QACjBC,EAAM,EAAQ,QACdC,EAAW,EAAQ,QACnBC,EAAiB,EAAQ,QAAuCjC,EAChEkC,EAA4B,EAAQ,QAEpCC,EAAeL,EAAOT,OAE1B,GAAIQ,GAAsC,mBAAhBM,MAAiC,gBAAiBA,EAAa/C,iBAExDa,IAA/BkC,IAAeC,aACd,CACD,IAAIC,EAA8B,GAE9BC,EAAgB,WAClB,IAAIF,EAAcG,UAAUC,OAAS,QAAsBvC,IAAjBsC,UAAU,QAAmBtC,EAAYH,OAAOyC,UAAU,IAChGE,EAAS7C,gBAAgB0C,EACzB,IAAIH,EAAaC,QAEDnC,IAAhBmC,EAA4BD,IAAiBA,EAAaC,GAE9D,MADoB,KAAhBA,IAAoBC,EAA4BI,IAAU,GACvDA,GAETP,EAA0BI,EAAeH,GACzC,IAAIO,EAAkBJ,EAAclD,UAAY+C,EAAa/C,UAC7DsD,EAAgBnB,YAAce,EAE9B,IAAIK,EAAiBD,EAAgBE,SACjCC,EAAyC,gBAAhC/C,OAAOqC,EAAa,SAC7BW,EAAS,wBACbb,EAAeS,EAAiB,cAAe,CAC7CK,cAAc,EACdC,IAAK,WACH,IAAIC,EAASjB,EAASpC,MAAQA,KAAKsD,UAAYtD,KAC3CuD,EAASR,EAAepD,KAAK0D,GACjC,GAAIlB,EAAIM,EAA6BY,GAAS,MAAO,GACrD,IAAIG,EAAOP,EAASM,EAAOE,MAAM,GAAI,GAAKF,EAAOG,QAAQR,EAAQ,MACjE,MAAgB,KAATM,OAAcnD,EAAYmD,KAIrCxB,EAAE,CAAEE,QAAQ,EAAMyB,QAAQ,GAAQ,CAChClC,OAAQiB","file":"js/chunk-9d937eb6.11612519.js","sourcesContent":["'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('tiptap',{on:{\"input\":_vm.sauve},model:{value:(_vm.txt),callback:function ($$v) {_vm.txt=$$v},expression:\"txt\"}}),_c('ActionList',{on:{\"action\":_vm.action}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","<template>\n  <div>\n    <!-- <ButtonToolbar v-if=\"editable\" @sauve=\"sauve\" @format=\"format\" /> -->\n\n    <tiptap v-model=\"txt\" @input=\"sauve\"/>\n\n    <!-- <div\n    ref=\"editableDiv\"\n    v-html=\"txt\"\n    variant = \"sucess\"\n\n    @dblclick=\"dblclick\"\n    :contenteditable=\"editable ? true : false\"\n    >-->\n    <!-- @blur=\"onEdit\" -->\n    <!--  </div>-->\n    <ActionList @action=\"action\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Page\",\n  data(){\n    return{\n      txt: `======Félicitations, votre wiki est installé !\n\n      ===\"\"YesWiki\"\" : un outil convivial potentiellement collaboratif===\n      Voici quelques éléments afin de bien démarrer de vous approprier ce nouvel outil.\n      - Le double-clic est votre ami ! Si vous voulez modifier une page de votre Yeswiki, double-cliquez simplement dessus ou cliquez sur \"éditer la page\" en bas à gauche\n      - Si vous voulez vous exercer sereinement, vous pouvez essayer de modifier la page [[BacASable bac à sable]].\n      - Vous pouvez également essayer de modifier de la même manière la page sur laquelle vous êtes actuellement.\n      - Vous souhaitez modifier le menu horizontal général ? Double-cliquez gauche sur ce menu (en dehors du texte), et vous aurez accès à l'édition de ce menu. Utilisez les tirets (\"-\") pour créer de nouvelles entrées.\n      - Et il y a une page de la doc \"\"YesWiki\"\" à lire absolument, celle qui vous permet de [[https://yeswiki.net/?HistoriqueRevisions restaurer une page modifiée en cas d'erreur ou de problème]]. Comme ça, aucun risques !!!\n        - Le menu d'administration en haut à droite, accessible depuis la roue crantée (clic gauche) vous permettra :\n        - de [[WikiAdmin gérer le site (pages importantes, comptes et groupes utilisateurs, etc.)]],\n        - d’administrer la [[BazaR base de données Bazar]],\n        - de consulter les [[TableauDeBord dernières modifications sur le wiki]].\n        `,\n        menuVisible: false,\n        editable: false,\n      }\n    },\n    components: {\n      // 'ButtonToolbar': () => import('@/components/editable/ButtonToolbar'),\n      'ActionList': () => import('@/components/editable/ActionList'),\n      'Tiptap':() => import ('@/components/editable/TipTap.vue')\n    },\n    methods:{\n      action(a){\n        console.log(\"action\",a)\n        switch (a) {\n          case \"edit\":\n          this.editable = true\n          break;\n          case \"delete\":\n\n          break;\n          case \"history\":\n\n          break;\n          case \"permission\":\n\n          break;\n          case \"share\":\n\n          break;\n          default:\n\n        }\n      },\n      updatePage(){\n        console.log(this.file)\n        this.txt = this.file.content\n      },\n      dblclick(e){\n        this.editable = true\n        console.log(\"dbl\",e)\n      },\n      // showMenu(){\n      //   let old = this.txt\n      //   this.menuVisible = true\n      //   console.log(\"show\", old)\n      // },\n      sauve(e){\n        console.log(e)\n        this.editable = false\n        // var src = this.$refs.editableDiv.innerText\n        // this.txt = src\n        console.log(this.txt)\n        this.file.content = this.txt\n        console.log(this.file)\n        this.$save(this.file)\n      },\n      format(f){\n        console.log(f)\n        //var text = \"\";\n        console.log(typeof f)\n\n        let balise = \"\"\n        if(typeof f == \"number\"){\n          //  balise = \"=\".repeat(7-f)\n          balise = \"h\"+f\n        }else{\n          console.log(\"todo format\",f)\n        }\n\n\n\n        console.log(balise)\n        var sel, range;\n        if (window.getSelection) {\n          sel = window.getSelection();\n          let txt = sel.toString()\n          let replacementText = \"<\"+balise+\">\"+txt+\"</\"+balise+\">\"\n          if (sel.rangeCount) {\n            range = sel.getRangeAt(0);\n            range.deleteContents();\n            range.insertNode(document.createTextNode(replacementText));\n          }\n        } else if (document.selection && document.selection.createRange) {\n          range = document.selection.createRange();\n          let txt = range.txt\n          let replacementText = \"<\"+balise+\">\"+txt+\"</\"+balise+\">\"\n          range.text = replacementText;\n        }\n      },\n      // replaceSelectedText(replacementText) {\n      //   var sel, range;\n      //   if (window.getSelection) {\n      //     sel = window.getSelection();\n      //     if (sel.rangeCount) {\n      //       range = sel.getRangeAt(0);\n      //       range.deleteContents();\n      //       range.insertNode(document.createTextNode(replacementText));\n      //     }\n      //   } else if (document.selection && document.selection.createRange) {\n      //     range = document.selection.createRange();\n      //     range.text = replacementText;\n      //   }\n      //\n      // }\n\n    },\n    watch:{\n      file(){\n        this.updatePage()\n      }\n    },\n    computed:{\n      file:{\n        get () { return this.$store.state.viki.file},\n        set (/*value*/) { /*this.updateTodo(value)*/ }\n      },\n    }\n  }\n  </script>\n\n  <style>\n\n  </style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageTip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageTip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageTip.vue?vue&type=template&id=4166e86c&\"\nimport script from \"./PageTip.vue?vue&type=script&lang=js&\"\nexport * from \"./PageTip.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}