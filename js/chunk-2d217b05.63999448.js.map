{"version":3,"sources":["webpack:///./src/components/layout/Pages.vue?8de4","webpack:///src/components/layout/Pages.vue","webpack:///./src/components/layout/Pages.vue?4699","webpack:///./src/components/layout/Pages.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","attrs","on","updatePageList","model","value","callback","$$v","npname","expression","createPage","scopedSlots","_u","key","fn","ref","ariaDescribedby","_l","f","name","format","_s","p","url","$event","setCurrent","staticRenderFns","data","pages","formats","created","pod","$store","state","solid","methods","public_root","storage","console","log","thing","$createThing","$setCurrentThing","init","e","watch","computed","get","set","component"],"mappings":"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","file":"js/chunk-2d217b05.63999448.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b',[_vm._v(\"Pages\")]),_c('b-button',{staticClass:\"ml-3\",attrs:{\"size\":\"sm\",\"variant\":\"light\",\"title\":\"refresh\"},on:{\"click\":_vm.updatePageList}},[_c('b-icon',{attrs:{\"icon\":\"\\n      journal-arrow-down\",\"aria-hidden\":\"true\"}})],1),_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":\"new\"}},[_c('b-form-input',{model:{value:(_vm.npname),callback:function ($$v) {_vm.npname=$$v},expression:\"npname\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"info\"},on:{\"click\":_vm.createPage}},[_vm._v(\"Créer\")])],1)],1),_c('b-form-group',{attrs:{\"label\":\"enregistrer au format\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar ariaDescribedby = ref.ariaDescribedby;\nreturn _vm._l((_vm.formats),function(f){return _c('b-form-radio',{key:f.name,attrs:{\"aria-describedby\":ariaDescribedby,\"name\":\"format-radios\",\"value\":f},model:{value:(_vm.format),callback:function ($$v) {_vm.format=$$v},expression:\"format\"}},[_vm._v(\" \"+_vm._s(f.name))])})}}])}),_c('br'),_c('ul',_vm._l((_vm.pages),function(p){return _c('li',{key:p.url},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.setCurrent(p)}}},[_vm._v(_vm._s(p.name))]),_c('a',{attrs:{\"href\":p.url,\"target\":\"_blank\"}},[_c('b-icon',{attrs:{\"icon\":\"link45deg\",\"aria-hidden\":\"true\"}})],1)])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b>Pages</b>   <b-button class=\"ml-3\" size=\"sm\" variant=\"light\" @click=\"updatePageList\" title=\"refresh\"> <b-icon icon=\"\n      journal-arrow-down\" aria-hidden=\"true\"></b-icon></b-button>\n\n      <b-input-group prepend=\"new\" class=\"mt-3\">\n        <b-form-input v-model=\"npname\"></b-form-input>\n        <b-input-group-append>\n          <b-button variant=\"info\" @click=\"createPage\">Créer</b-button>\n        </b-input-group-append>\n\n      </b-input-group>\n      <b-form-group label=\"enregistrer au format\" v-slot=\"{ ariaDescribedby }\">\n        <b-form-radio v-for=\"f in formats\" :key=\"f.name\"\n        v-model=\"format\"\n        :aria-describedby=\"ariaDescribedby\"\n        name=\"format-radios\" :value=\"f\"> {{f.name}}</b-form-radio>\n      </b-form-group>\n\n\n      <!-- <b-input-group prepend=\"Nouvelle Json\" class=\"mt-3\">\n      <b-form-input v-model=\"njname\"></b-form-input>\n      <b-input-group-append>\n      <b-button variant=\"info\" @click=\"createJson\">Créer</b-button>\n    </b-input-group-append>\n  </b-input-group> -->\n\n  <br>\n  <ul>\n    <li v-for=\"p in pages\" :key=\"p.url\"><a href=\"#\" @click=\"setCurrent(p)\">{{ p.name }}</a>\n\n      <a :href=\"p.url\" target=\"_blank\"><b-icon icon=\"link45deg\" aria-hidden=\"true\"></b-icon></a>\n\n    </li>\n  </ul>\n</div>\n</template>\n\n<script>\nexport default {\n  name:\"Pages\",\n  data(){\n    return {\n      pages: [],\n      npname: \"NouvellePage\",\n      //  njname: \"Nouveau Json\",\n      format: null,\n      formats: [\n        {name: \"dossier\", default: null, mimetype: null, ext: null },\n        {name: \"html\", default: '<meta charset=\"utf-8\">', mimetype: \"text/html\", ext: \"html\" },\n        {name: \"html au format json\", default: '{}', mimetype: \"application/json\", ext: \"json\" },\n        {name: \"ressource json\", default: '{}', mimetype: \"application/json\", ext: \"json\" },\n        {name: \"ressource jsonld\", default: '{}', mimetype: \"application/ld+json\", ext: \"json\" },\n        {name: \"ressource ttl\", default: '', mimetype: \"text/turtle\", ext: \"ttl\" },\n        {name: \"txt\", default: '', mimetype: \"text/plain\", ext: \"txt\" }\n      ]\n    }\n  },\n  created(){\n    this.format = this.formats[1]\n    this.pod = this.$store.state.solid.pod\n    this.updatePageList()\n  },\n  methods:{\n    createPage(){\n      this.public_root = this.pod.storage+\"public/\"\n      let thing = {name: this.npname, dest: this.public_root, content: this.format.default, type: {mime: this.format.mimetype}}\n      console.log(thing)\n      this.$createThing(thing)\n      this.updatePageList()\n    },\n    // createJson(){\n    //   this.public_root = this.pod.storage+\"public/\"\n    //   this.$createThing({name: this.njname, dest: this.public_root, content: '{\"@id\":\"'+this.public_root+this.njname+'.json\"}', type: {mime: \"application/json\"}})\n    //   //  this.$setCurrentThing({name: this.npname, url: public_root+this.npname})\n    //   this.updatePageList()\n    // },\n    //\n    setCurrent(p){\n      console.log(p)\n      this.$setCurrentThing(p)\n    },\n    async updatePageList(){\n      if(this.pod != null){\n        this.public_root = this.pod.storage+\"public/\"\n        this.pages = await this.$getFolderContent(this.public_root)\n        this.init()\n      }else{\n        this.pages = []\n      }\n    },\n    init(){\n      try{\n        this.$setCurrentThing({name: \"PagePrincipale\", url: this.public_root+\"PagePrincipale.html\"})\n      }\n      catch(e){\n        console.log(e)\n      }\n    }\n  },\n  watch:{\n    pod(){\n      this.updatePageList()\n    }\n  },\n  computed:{\n    pod:{\n      get () { return this.$store.state.solid.pod},\n      set (/*value*/) { /*this.updateTodo(value)*/ }\n    },\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pages.vue?vue&type=template&id=65e8bc7e&\"\nimport script from \"./Pages.vue?vue&type=script&lang=js&\"\nexport * from \"./Pages.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}